(self.webpackChunkvk=self.webpackChunkvk||[]).push([[23299],{612214:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(0,r(951201).makeIcon)("Icon12OnlineMobile","online_mobile_12","0 0 8 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 12" id="online_mobile_12"><path fill="currentColor" d="M5.99 0C7.1 0 8 .9 8 2.01v7.98C8 11.1 7.1 12 5.99 12H2.01C.9 12 0 11.1 0 9.99V2.01C0 .9.9 0 2.01 0h3.98Zm.007 3H2.004a.502.502 0 0 0-.503.502v4.995c0 .278.225.503.503.503h3.995a.502.502 0 0 0 .502-.502V3.503A.502.502 0 0 0 5.997 3Z" /></symbol>',8,12)},40691:(e,t,r)=>{"use strict";var n=r(483585),o=r(97478),u=r(339104),a=r(719053),i=r(189595),s=r(206815);e.exports=function(e){var t,r=s(this),c=i(u(r,"length"));if(!a(e))throw new TypeError("mapperFunction must be a function");arguments.length>1&&(t=arguments[1]);var l=n(r,0);return o(l,r,c,0,1,e,t),l}},890330:(e,t,r)=>{"use strict";var n=r(404289),o=r(355538),u=r(40691),a=r(403721),i=a(),s=r(4090),c=o(i);n(c,{getPolyfill:a,implementation:u,shim:s}),e.exports=c},355538:(e,t,r)=>{"use strict";var n=r(158612),o=r(394522),u=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),i=o("%Reflect.apply%",!0)||n.call(a,u),s=o("%Object.defineProperty%",!0);if(s)try{s({},"a",{value:1})}catch(e){s=null}e.exports=function(){return i(n,a,arguments)};var c=function(){return i(n,u,arguments)};s?s(e.exports,"apply",{value:c}):e.exports.apply=c},483585:(e,t,r)=>{"use strict";var n=r(17584),o=n("%Array%"),u=n("%Symbol.species%",!0),a=n("%TypeError%"),i=r(339104),s=r(64588),c=r(460311),l=r(108218),p=r(434100);e.exports=function(e,t){if(!l(t)||t<0)throw new a("Assertion failed: length must be an integer >= 0");var r,n=0===t?0:t;if(s(e)&&(r=i(e,"constructor"),u&&"Object"===p(r)&&null===(r=i(r,u))&&(r=void 0)),void 0===r)return o(n);if(!c(r))throw new a("C must be a constructor");return new r(n)}},787768:(e,t,r)=>{"use strict";var n=r(17584),o=r(416639),u=n("%Reflect.apply%",!0)||o("%Function.prototype.apply%");e.exports=function(e,t){var r=arguments.length>2?arguments[2]:[];return u(e,t,r)}},695265:(e,t,r)=>{"use strict";var n=r(17584)("%TypeError%"),o=r(243813),u=r(890718),a=r(12333),i=r(188476),s=r(697915),c=r(520657),l=r(364813),p=r(434100);e.exports=function(e,t,r){if("Object"!==p(e))throw new n("Assertion failed: Type(O) is not Object");if(!c(t))throw new n("Assertion failed: IsPropertyKey(P) is not true");var d=a(e,t),f=!d||s(e);return!(d&&(!d["[[Writable]]"]||!d["[[Configurable]]"])||!f)&&o(i,l,u,e,t,{"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":r,"[[Writable]]":!0})}},157056:(e,t,r)=>{"use strict";var n=r(17584)("%TypeError%"),o=r(695265),u=r(520657),a=r(434100);e.exports=function(e,t,r){if("Object"!==a(e))throw new n("Assertion failed: Type(O) is not Object");if(!u(t))throw new n("Assertion failed: IsPropertyKey(P) is not true");var i=o(e,t,r);if(!i)throw new n("unable to create data property");return i}},709042:(e,t,r)=>{"use strict";var n=r(17584)("%TypeError%"),o=r(358652),u=r(243813),a=r(890718),i=r(510781),s=r(188476),c=r(520657),l=r(364813),p=r(622614),d=r(434100);e.exports=function(e,t,r){if("Object"!==d(e))throw new n("Assertion failed: Type(O) is not Object");if(!c(t))throw new n("Assertion failed: IsPropertyKey(P) is not true");var f=o({Type:d,IsDataDescriptor:s,IsAccessorDescriptor:i},r)?r:p(r);if(!o({Type:d,IsDataDescriptor:s,IsAccessorDescriptor:i},f))throw new n("Assertion failed: Desc is not a valid Property Descriptor");return u(s,l,a,e,t,f)}},97478:(e,t,r)=>{"use strict";var n=r(17584)("%TypeError%"),o=r(473104),u=r(787768),a=r(157056),i=r(339104),s=r(94412),c=r(64588),l=r(426876),p=r(586416);e.exports=function e(t,r,d,f,D){var y;arguments.length>5&&(y=arguments[5]);for(var h=f,v=0;v<d;){var m=p(v),g=s(r,m);if(!0===g){var C=i(r,m);if(void 0!==y){if(arguments.length<=6)throw new n("Assertion failed: thisArg is required when mapperFunction is provided");C=u(y,arguments[6],[C,v,r])}var b=!1;if(D>0&&(b=c(C)),b){var F=l(C);h=e(t,C,F,h,D-1)}else{if(h>=o)throw new n("index too large");a(t,p(h),C),h+=1}}v+=1}return h}},890718:(e,t,r)=>{"use strict";var n=r(925621),o=r(434100);e.exports=function(e){if(void 0===e)return e;n(o,"Property Descriptor","Desc",e);var t={};return"[[Value]]"in e&&(t.value=e["[[Value]]"]),"[[Writable]]"in e&&(t.writable=e["[[Writable]]"]),"[[Get]]"in e&&(t.get=e["[[Get]]"]),"[[Set]]"in e&&(t.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(t.enumerable=e["[[Enumerable]]"]),"[[Configurable]]"in e&&(t.configurable=e["[[Configurable]]"]),t}},339104:(e,t,r)=>{"use strict";var n=r(17584)("%TypeError%"),o=r(683021),u=r(520657),a=r(434100);e.exports=function(e,t){if("Object"!==a(e))throw new n("Assertion failed: Type(O) is not Object");if(!u(t))throw new n("Assertion failed: IsPropertyKey(P) is not true, got "+o(t));return e[t]}},94412:(e,t,r)=>{"use strict";var n=r(17584)("%TypeError%"),o=r(520657),u=r(434100);e.exports=function(e,t){if("Object"!==u(e))throw new n("Assertion failed: `O` must be an Object");if(!o(t))throw new n("Assertion failed: `P` must be a Property Key");return t in e}},510781:(e,t,r)=>{"use strict";var n=r(117642),o=r(925621),u=r(434100);e.exports=function(e){return void 0!==e&&(o(u,"Property Descriptor","Desc",e),!(!n(e,"[[Get]]")&&!n(e,"[[Set]]")))}},64588:(e,t,r)=>{"use strict";var n=r(17584)("%Array%"),o=!n.isArray&&r(416639)("Object.prototype.toString");e.exports=n.isArray||function(e){return"[object Array]"===o(e)}},719053:(e,t,r)=>{"use strict";e.exports=r(885053)},460311:(e,t,r)=>{"use strict";var n=r(17584)("%Reflect.construct%",!0),o=r(709042);try{o({},"",{"[[Get]]":function(){}})}catch(e){o=null}if(o&&n){var u={},a={};o(a,"length",{"[[Get]]":function(){throw u},"[[Enumerable]]":!0}),e.exports=function(e){try{n(e,a)}catch(e){return e===u}}}else e.exports=function(e){return"function"==typeof e&&!!e.prototype}},188476:(e,t,r)=>{"use strict";var n=r(117642),o=r(925621),u=r(434100);e.exports=function(e){return void 0!==e&&(o(u,"Property Descriptor","Desc",e),!(!n(e,"[[Value]]")&&!n(e,"[[Writable]]")))}},697915:(e,t,r)=>{"use strict";var n=r(17584)("%Object%"),o=r(998767),u=n.preventExtensions,a=n.isExtensible;e.exports=u?function(e){return!o(e)&&a(e)}:function(e){return!o(e)}},108218:(e,t,r)=>{"use strict";var n=r(602131),o=r(901805),u=r(502421),a=r(558336);e.exports=function(e){if("number"!=typeof e||u(e)||!a(e))return!1;var t=n(e);return o(t)===t}},520657:e=>{"use strict";e.exports=function(e){return"string"==typeof e||"symbol"==typeof e}},321860:(e,t,r)=>{"use strict";var n=r(17584)("%Symbol.match%",!0),o=r(318676),u=r(111267);e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(n){var t=e[n];if(void 0!==t)return u(t)}return o(e)}},426876:(e,t,r)=>{"use strict";var n=r(17584)("%TypeError%"),o=r(339104),u=r(189595),a=r(434100);e.exports=function(e){if("Object"!==a(e))throw new n("Assertion failed: `obj` must be an Object");return u(o(e,"length"))}},12333:(e,t,r)=>{"use strict";var n=r(17584),o=r(856688),u=n("%TypeError%"),a=r(416639)("Object.prototype.propertyIsEnumerable"),i=r(117642),s=r(64588),c=r(520657),l=r(321860),p=r(622614),d=r(434100);e.exports=function(e,t){if("Object"!==d(e))throw new u("Assertion failed: O must be an Object");if(!c(t))throw new u("Assertion failed: P must be a Property Key");if(i(e,t)){if(!o){var r=s(e)&&"length"===t,n=l(e)&&"lastIndex"===t;return{"[[Configurable]]":!(r||n),"[[Enumerable]]":a(e,t),"[[Value]]":e[t],"[[Writable]]":!0}}return p(o(e,t))}}},173626:(e,t,r)=>{"use strict";e.exports=r(103921)},364813:(e,t,r)=>{"use strict";var n=r(502421);e.exports=function(e,t){return e===t?0!==e||1/e==1/t:n(e)&&n(t)}},111267:e=>{"use strict";e.exports=function(e){return!!e}},325834:(e,t,r)=>{"use strict";var n=r(912508),o=r(86167);e.exports=function(e){var t=o(e);return 0!==t&&(t=n(t)),0===t?0:t}},189595:(e,t,r)=>{"use strict";var n=r(473104),o=r(325834);e.exports=function(e){var t=o(e);return t<=0?0:t>n?n:t}},86167:(e,t,r)=>{"use strict";var n=r(17584),o=n("%TypeError%"),u=n("%Number%"),a=n("%RegExp%"),i=n("%parseInt%"),s=r(416639),c=r(575915),l=r(998767),p=s("String.prototype.slice"),d=c(/^0b[01]+$/i),f=c(/^0o[0-7]+$/i),D=c(/^[-+]0x[0-9a-f]+$/i),y=c(new a("["+["","​","￾"].join("")+"]","g")),h=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),v=new RegExp("(^["+h+"]+)|(["+h+"]+$)","g"),m=s("String.prototype.replace"),g=r(836779);e.exports=function e(t){var r=l(t)?t:g(t,u);if("symbol"==typeof r)throw new o("Cannot convert a Symbol value to a number");if("string"==typeof r){if(d(r))return e(i(p(r,2),2));if(f(r))return e(i(p(r,2),8));if(y(r)||D(r))return NaN;var n=function(e){return m(e,v,"")}(r);if(n!==r)return e(n)}return u(r)}},206815:(e,t,r)=>{"use strict";var n=r(17584)("%Object%"),o=r(173626);e.exports=function(e){return o(e),n(e)}},836779:(e,t,r)=>{"use strict";var n=r(41503);e.exports=function(e){return arguments.length>1?n(e,arguments[1]):n(e)}},622614:(e,t,r)=>{"use strict";var n=r(117642),o=r(17584)("%TypeError%"),u=r(434100),a=r(111267),i=r(719053);e.exports=function(e){if("Object"!==u(e))throw new o("ToPropertyDescriptor requires an object");var t={};if(n(e,"enumerable")&&(t["[[Enumerable]]"]=a(e.enumerable)),n(e,"configurable")&&(t["[[Configurable]]"]=a(e.configurable)),n(e,"value")&&(t["[[Value]]"]=e.value),n(e,"writable")&&(t["[[Writable]]"]=a(e.writable)),n(e,"get")){var r=e.get;if(void 0!==r&&!i(r))throw new o("getter must be a function");t["[[Get]]"]=r}if(n(e,"set")){var s=e.set;if(void 0!==s&&!i(s))throw new o("setter must be a function");t["[[Set]]"]=s}if((n(t,"[[Get]]")||n(t,"[[Set]]"))&&(n(t,"[[Value]]")||n(t,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}},586416:(e,t,r)=>{"use strict";var n=r(17584),o=n("%String%"),u=n("%TypeError%");e.exports=function(e){if("symbol"==typeof e)throw new u("Cannot convert a Symbol value to a string");return o(e)}},434100:(e,t,r)=>{"use strict";var n=r(840519);e.exports=function(e){return"symbol"==typeof e?"Symbol":"bigint"==typeof e?"BigInt":n(e)}},602131:(e,t,r)=>{"use strict";var n=r(17584)("%Math.abs%");e.exports=function(e){return n(e)}},901805:e=>{"use strict";var t=Math.floor;e.exports=function(e){return t(e)}},103921:(e,t,r)=>{"use strict";var n=r(17584)("%TypeError%");e.exports=function(e,t){if(null==e)throw new n(t||"Cannot call method on "+e);return e}},912508:(e,t,r)=>{"use strict";var n=r(143222),o=r(17659),u=r(604595),a=r(502421),i=r(558336),s=r(236940);e.exports=function(e){var t=u(e);return a(t)?0:0!==t&&i(t)?s(t)*o(n(t)):t}},604595:e=>{"use strict";e.exports=function(e){return+e}},840519:e=>{"use strict";e.exports=function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0}},143222:(e,t,r)=>{"use strict";var n=r(17584)("%Math.abs%");e.exports=function(e){return n(e)}},17659:e=>{"use strict";var t=Math.floor;e.exports=function(e){return t(e)}},17584:(e,t,r)=>{"use strict";var n,o=SyntaxError,u=Function,a=TypeError,i=function(e){try{return Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var c=function(){throw new a},l=s?function(){try{return c}catch(e){try{return s(arguments,"callee").get}catch(e){return c}}}():c,p=r(241405)(),d=Object.getPrototypeOf||function(e){return e.__proto__},f=i("async function* () {}"),D=f?f.prototype:n,y=D?D.prototype:n,h="undefined"==typeof Uint8Array?n:d(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":p?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":i("async function () {}"),"%AsyncGenerator%":D,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":y?d(y):n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":i("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?d(""[Symbol.iterator]()):n,"%Symbol%":p?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=r(158612),C=r(117642),b=g.call(Function.call,Array.prototype.concat),F=g.call(Function.apply,Array.prototype.splice),E=g.call(Function.call,String.prototype.replace),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_=/\\(\\)?/g,A=function(e){var t=[];return E(e,w,(function(e,r,n,o){t[t.length]=n?E(o,_,"$1"):r||e})),t},S=function(e,t){var r,n=e;if(C(m,n)&&(n="%"+(r=m[n])[0]+"%"),C(v,n)){var u=v[n];if(void 0===u&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:u}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var r=A(e),n=r.length>0?r[0]:"",o=S("%"+n+"%",t),u=o.name,i=o.value,c=!1,l=o.alias;l&&(n=l[0],F(r,b([0,1],l)));for(var p=1,d=!0;p<r.length;p+=1){var f=r[p];if("constructor"!==f&&d||(c=!0),C(v,u="%"+(n+="."+f)+"%"))i=v[u];else if(null!=i){if(s&&p+1>=r.length){var D=s(i,f);if(d=!!D,!t&&!(f in i))throw new a("base intrinsic for "+e+" exists, but the property is not available.");i=d&&"get"in D&&!("originalValue"in D.get)?D.get:i[f]}else d=C(i,f),i=i[f];d&&!c&&(v[u]=i)}}return i}},243813:(e,t,r)=>{"use strict";var n=r(17584)("%Object.defineProperty%",!0);if(n)try{n({},"a",{value:1})}catch(e){n=null}var o=r(416639)("Object.prototype.propertyIsEnumerable");e.exports=function(e,t,r,u,a,i){if(!n){if(!e(i))return!1;if(!i["[[Configurable]]"]||!i["[[Writable]]"])return!1;if(a in u&&o(u,a)!==!!i["[[Enumerable]]"])return!1;var s=i["[[Value]]"];return u[a]=s,t(u[a],s)}return n(u,a,r(i)),!0}},925621:(e,t,r)=>{"use strict";var n=r(17584),o=n("%TypeError%"),u=n("%SyntaxError%"),a=r(117642),i={"Property Descriptor":function(e,t){if("Object"!==e(t))return!1;var r={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in t)if(a(t,n)&&!r[n])return!1;var u=a(t,"[[Value]]"),i=a(t,"[[Get]]")||a(t,"[[Set]]");if(u&&i)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0}};e.exports=function(e,t,r,n){var a=i[t];if("function"!=typeof a)throw new u("unknown record type: "+t);if(!a(e,n))throw new o(r+" must be a "+t)}},315157:(e,t,r)=>{"use strict";var n=r(158612),o=r(17584),u=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),i=o("%Reflect.apply%",!0)||n.call(a,u),s=o("%Object.defineProperty%",!0);if(s)try{s({},"a",{value:1})}catch(e){s=null}e.exports=function(){return i(n,a,arguments)};var c=function(){return i(n,u,arguments)};s?s(e.exports,"apply",{value:c}):e.exports.apply=c},416639:(e,t,r)=>{"use strict";var n=r(17584),o=r(315157),u=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&u(e,".prototype.")?o(r):r}},856688:(e,t,r)=>{"use strict";var n=r(17584)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},558336:e=>{"use strict";var t=Number.isNaN||function(e){return e!=e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!t(e)&&e!==1/0&&e!==-1/0}},502421:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},998767:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},358652:(e,t,r)=>{"use strict";var n=r(17584),o=r(117642),u=n("%TypeError%");e.exports=function(e,t){if("Object"!==e.Type(t))return!1;var r={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in t)if(o(t,n)&&!r[n])return!1;if(e.IsDataDescriptor(t)&&e.IsAccessorDescriptor(t))throw new u("Property Descriptors may not be both accessor and data descriptors");return!0}},473104:(e,t,r)=>{"use strict";var n=r(17584),o=n("%Math%"),u=n("%Number%");e.exports=u.MAX_SAFE_INTEGER||o.pow(2,53)-1},575915:(e,t,r)=>{"use strict";var n=r(17584)("RegExp.prototype.test"),o=r(315157);e.exports=function(e){return o(n,e)}},236940:e=>{"use strict";e.exports=function(e){return e>=0?1:-1}},394522:(e,t,r)=>{"use strict";var n,o=SyntaxError,u=Function,a=TypeError,i=function(e){try{return Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var c=function(){throw new a},l=s?function(){try{return c}catch(e){try{return s(arguments,"callee").get}catch(e){return c}}}():c,p=r(241405)(),d=Object.getPrototypeOf||function(e){return e.__proto__},f=i("async function* () {}"),D=f?f.prototype:n,y=D?D.prototype:n,h="undefined"==typeof Uint8Array?n:d(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":p?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":i("async function () {}"),"%AsyncGenerator%":D,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":y?d(y):n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":i("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?d(""[Symbol.iterator]()):n,"%Symbol%":p?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=r(158612),C=r(117642),b=g.call(Function.call,Array.prototype.concat),F=g.call(Function.apply,Array.prototype.splice),E=g.call(Function.call,String.prototype.replace),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_=/\\(\\)?/g,A=function(e){var t=[];return E(e,w,(function(e,r,n,o){t[t.length]=n?E(o,_,"$1"):r||e})),t},S=function(e,t){var r,n=e;if(C(m,n)&&(n="%"+(r=m[n])[0]+"%"),C(v,n)){var u=v[n];if(void 0===u&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:u}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var r=A(e),n=r.length>0?r[0]:"",o=S("%"+n+"%",t),u=o.name,i=o.value,c=!1,l=o.alias;l&&(n=l[0],F(r,b([0,1],l)));for(var p=1,d=!0;p<r.length;p+=1){var f=r[p];if("constructor"!==f&&d||(c=!0),C(v,u="%"+(n+="."+f)+"%"))i=v[u];else if(null!=i){if(s&&p+1>=r.length){var D=s(i,f);if(d=!!D,!t&&!(f in i))throw new a("base intrinsic for "+e+" exists, but the property is not available.");i=d&&"get"in D&&!("originalValue"in D.get)?D.get:i[f]}else d=C(i,f),i=i[f];d&&!c&&(v[u]=i)}}return i}},885053:e=>{"use strict";var t,r,n=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},o((function(){throw 42}),null,t)}catch(e){e!==r&&(o=null)}else o=null;var u=/^\s*class\b/,a=function(e){try{var t=n.call(e);return u.test(t)}catch(e){return!1}},i=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=o?function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{o(e,null,t)}catch(e){if(e!==r)return!1}return!a(e)}:function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(s)return function(e){try{return!a(e)&&(n.call(e),!0)}catch(e){return!1}}(e);if(a(e))return!1;var t=i.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},318676:(e,t,r)=>{"use strict";var n,o,u,a,i=r(241405)()&&"symbol"==typeof Symbol.toStringTag;if(i){n=Function.call.bind(Object.prototype.hasOwnProperty),o=Function.call.bind(RegExp.prototype.exec),u={};var s=function(){throw u};a={toString:s,valueOf:s},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=s)}var c=Object.prototype.toString,l=Object.getOwnPropertyDescriptor;e.exports=i?function(e){if(!e||"object"!=typeof e)return!1;var t=l(e,"lastIndex");if(!(t&&n(t,"value")))return!1;try{o(e,a)}catch(e){return e===u}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===c.call(e)}},683021:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,u=n&&o&&"function"==typeof o.get?o.get:null,a=n&&Map.prototype.forEach,i="function"==typeof Set&&Set.prototype,s=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=i&&s&&"function"==typeof s.get?s.get:null,l=i&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f=Boolean.prototype.valueOf,D=Object.prototype.toString,y=Function.prototype.toString,h=String.prototype.match,v="function"==typeof BigInt?BigInt.prototype.valueOf:null,m=Object.getOwnPropertySymbols,g="function"==typeof Symbol?Symbol.prototype.toString:null,C=Object.prototype.propertyIsEnumerable,b=r(948399).custom,F=b&&A(b)?b:null;function E(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function w(e){return String(e).replace(/"/g,"&quot;")}function _(e){return"[object Array]"===k(e)}function A(e){return"[object Symbol]"===k(e)}e.exports=function e(t,r,n,o){var i=r||{};if(I(i,"quoteStyle")&&"single"!==i.quoteStyle&&"double"!==i.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(I(i,"maxStringLength")&&("number"==typeof i.maxStringLength?i.maxStringLength<0&&i.maxStringLength!==1/0:null!==i.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!I(i,"customInspect")||i.customInspect;if("boolean"!=typeof s)throw new TypeError('option "customInspect", if provided, must be `true` or `false`');if(I(i,"indent")&&null!==i.indent&&"\t"!==i.indent&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return P(t,i);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var D=void 0===i.depth?5:i.depth;if(void 0===n&&(n=0),n>=D&&D>0&&"object"==typeof t)return _(t)?"[Array]":"[Object]";var m=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=Array(e.indent+1).join(" ")}return{base:r,prev:Array(t+1).join(r)}}(i,n);if(void 0===o)o=[];else if(O(o,t)>=0)return"[Circular]";function C(t,r,u){if(r&&(o=o.slice()).push(r),u){var a={depth:i.depth};return I(i,"quoteStyle")&&(a.quoteStyle=i.quoteStyle),e(t,a,n+1,o)}return e(t,i,n+1,o)}if("function"==typeof t){var b=function(e){if(e.name)return e.name;var t=h.call(y.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),S=B(t,C);return"[Function"+(b?": "+b:" (anonymous)")+"]"+(S.length>0?" { "+S.join(", ")+" }":"")}if(A(t)){var x=g.call(t);return"object"==typeof t?M(x):x}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var T="<"+String(t.nodeName).toLowerCase(),N=t.attributes||[],q=0;q<N.length;q++)T+=" "+N[q].name+"="+E(w(N[q].value),"double",i);return T+=">",t.childNodes&&t.childNodes.length&&(T+="..."),T+="</"+String(t.nodeName).toLowerCase()+">"}if(_(t)){if(0===t.length)return"[]";var z=B(t,C);return m&&!function(e){for(var t=0;t<e.length;t++)if(O(e[t],"\n")>=0)return!1;return!0}(z)?"["+U(z,m)+"]":"[ "+z.join(", ")+" ]"}if(function(e){return"[object Error]"===k(e)}(t)){var G=B(t,C);return 0===G.length?"["+String(t)+"]":"{ ["+String(t)+"] "+G.join(", ")+" }"}if("object"==typeof t&&s){if(F&&"function"==typeof t[F])return t[F]();if("function"==typeof t.inspect)return t.inspect()}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var H=[];return a.call(t,(function(e,r){H.push(C(r,t,!0)+" => "+C(e,t))})),R("Map",u.call(t),H,m)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var L=[];return l.call(t,(function(e){L.push(C(e,t))})),R("Set",c.call(t),L,m)}if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return j("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return j("WeakSet");if(function(e){return"[object Number]"===k(e)}(t))return M(C(Number(t)));if(function(e){return"[object BigInt]"===k(e)}(t))return M(C(v.call(t)));if(function(e){return"[object Boolean]"===k(e)}(t))return M(f.call(t));if(function(e){return"[object String]"===k(e)}(t))return M(C(String(t)));if(!function(e){return"[object Date]"===k(e)}(t)&&!function(e){return"[object RegExp]"===k(e)}(t)){var W=B(t,C);return 0===W.length?"{}":m?"{"+U(W,m)+"}":"{ "+W.join(", ")+" }"}return String(t)};var S=Object.prototype.hasOwnProperty||function(e){return e in this};function I(e,t){return S.call(e,t)}function k(e){return D.call(e)}function O(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function P(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return P(e.slice(0,t.maxStringLength),t)+n}return E(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,x),"single",t)}function x(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function M(e){return"Object("+e+")"}function j(e){return e+" { ? }"}function R(e,t,r,n){return e+" ("+t+") {"+(n?U(r,n):r.join(", "))+"}"}function U(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+e.join(","+r)+"\n"+t.prev}function B(e,t){var r=_(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=I(e,o)?t(e[o],e):""}for(var u in e)I(e,u)&&(r&&String(Number(u))===u&&u<e.length||(/[^\w$]/.test(u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if("function"==typeof m)for(var a=m(e),i=0;i<a.length;i++)C.call(e,a[i])&&n.push("["+t(a[i])+"]: "+t(e[a[i]],e));return n}},403721:(e,t,r)=>{"use strict";var n=r(40691);e.exports=function(){return Array.prototype.flatMap||n}},4090:(e,t,r)=>{"use strict";var n=r(404289),o=r(403721);e.exports=function(){var e=o();return n(Array.prototype,{flatMap:e},{flatMap:function(){return Array.prototype.flatMap!==e}}),e}},921924:(e,t,r)=>{"use strict";var n=r(340210),o=r(155559),u=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&u(e,".prototype.")>-1?o(r):r}},155559:(e,t,r)=>{"use strict";var n=r(158612),o=r(340210),u=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),i=o("%Reflect.apply%",!0)||n.call(a,u),s=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=i(n,a,arguments);if(s&&c){var r=s(t,"length");r.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var p=function(){return i(n,u,arguments)};c?c(e.exports,"apply",{value:p}):e.exports.apply=p},444020:e=>{"use strict";var t="%[a-f0-9]{2}",r=new RegExp(t,"gi"),n=new RegExp("("+t+")+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],o(r),o(n))}function u(e){try{return decodeURIComponent(e)}catch(u){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=n.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var o=u(r[0]);o!==r[0]&&(t[r[0]]=o)}r=n.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),i=0;i<a.length;i++){var s=a[i];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}}},404289:(e,t,r)=>{"use strict";var n=r(482215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),u=Object.prototype.toString,a=Array.prototype.concat,i=Object.defineProperty,s=i&&function(){var e={};try{for(var t in i(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,r,n){var o;(!(t in e)||"function"==typeof(o=n)&&"[object Function]"===u.call(o)&&n())&&(s?i(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},l=function(e,t){var r=arguments.length>2?arguments[2]:{},u=n(t);o&&(u=a.call(u,Object.getOwnPropertySymbols(t)));for(var i=0;i<u.length;i+=1)c(e,u[i],t[u[i]],r[u[i]])};l.supportsDescriptors=!!s,e.exports=l},41503:(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=r(34149),u=r(95320),a=r(618923),i=r(612636),s=function(e,t){if(null==e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var r,n,a,i="string"===t?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<i.length;++a)if(r=e[i[a]],u(r)&&(n=r.call(e),o(n)))return n;throw new TypeError("No default value")},c=function(e,t){var r=e[t];if(null!=r){if(!u(r))throw new TypeError(r+" returned for property "+t+" of object "+e+" is not a function");return r}};e.exports=function(e){if(o(e))return e;var t,r="default";if(arguments.length>1&&(arguments[1]===String?r="string":arguments[1]===Number&&(r="number")),n&&(Symbol.toPrimitive?t=c(e,Symbol.toPrimitive):i(e)&&(t=Symbol.prototype.valueOf)),void 0!==t){var u=t.call(e,r);if(o(u))return u;throw new TypeError("unable to convert exotic object to primitive")}return"default"===r&&(a(e)||i(e))&&(r="string"),s(e,"default"===r?"number":r)}},34149:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},92806:e=>{"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),o=Array.isArray(t),u=0;u<n.length;u++){var a=n[u],i=e[a];(o?-1!==t.indexOf(a):t(a,i,e))&&(r[a]=i)}return r}},417648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,o="[object Function]";e.exports=function(e){var u=this;if("function"!=typeof u||n.call(u)!==o)throw new TypeError(t+u);for(var a,i=r.call(arguments,1),s=function(){if(this instanceof a){var t=u.apply(this,i.concat(r.call(arguments)));return Object(t)===t?t:this}return u.apply(e,i.concat(r.call(arguments)))},c=Math.max(0,u.length-i.length),l=[],p=0;p<c;p++)l.push("$"+p);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(s),u.prototype){var d=function(){};d.prototype=u.prototype,a.prototype=new d,d.prototype=null}return a}},158612:(e,t,r)=>{"use strict";var n=r(417648);e.exports=Function.prototype.bind||n},340210:(e,t,r)=>{"use strict";var n,o=SyntaxError,u=Function,a=TypeError,i=function(e){try{return u('"use strict"; return ('+e+").constructor;")()}catch(e){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var c=function(){throw new a},l=s?function(){try{return c}catch(e){try{return s(arguments,"callee").get}catch(e){return c}}}():c,p=r(241405)(),d=Object.getPrototypeOf||function(e){return e.__proto__},f={},D="undefined"==typeof Uint8Array?n:d(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":p?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?d(""[Symbol.iterator]()):n,"%Symbol%":p?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":D,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},h=function e(t){var r;if("%AsyncFunction%"===t)r=i("async function () {}");else if("%GeneratorFunction%"===t)r=i("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=i("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=d(o.prototype))}return y[t]=r,r},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=r(158612),g=r(117642),C=m.call(Function.call,Array.prototype.concat),b=m.call(Function.apply,Array.prototype.splice),F=m.call(Function.call,String.prototype.replace),E=m.call(Function.call,String.prototype.slice),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_=/\\(\\)?/g,A=function(e){var t=E(e,0,1),r=E(e,-1);if("%"===t&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return F(e,w,(function(e,t,r,o){n[n.length]=r?F(o,_,"$1"):t||e})),n},S=function(e,t){var r,n=e;if(g(v,n)&&(n="%"+(r=v[n])[0]+"%"),g(y,n)){var u=y[n];if(u===f&&(u=h(n)),void 0===u&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:u}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var r=A(e),n=r.length>0?r[0]:"",u=S("%"+n+"%",t),i=u.name,c=u.value,l=!1,p=u.alias;p&&(n=p[0],b(r,C([0,1],p)));for(var d=1,f=!0;d<r.length;d+=1){var D=r[d],h=E(D,0,1),v=E(D,-1);if(('"'===h||"'"===h||"`"===h||'"'===v||"'"===v||"`"===v)&&h!==v)throw new o("property names with quotes must have matching quotes");if("constructor"!==D&&f||(l=!0),g(y,i="%"+(n+="."+D)+"%"))c=y[i];else if(null!=c){if(!(D in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&d+1>=r.length){var m=s(c,D);c=(f=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:c[D]}else f=g(c,D),c=c[D];f&&!l&&(y[i]=c)}}return c}},241405:(e,t,r)=>{"use strict";var n=r.g.Symbol,o=r(455419);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},455419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},117642:(e,t,r)=>{"use strict";var n=r(158612);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},818172:(e,t,r)=>{"use strict";function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[K]}function u(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Q}(e)||Array.isArray(e)||!!e[$]||!!e.constructor[$]||f(e)||D(e))}function a(e){return o(e)||n(23,e),e[K].t}function i(e,t,r){void 0===r&&(r=!1),0===s(e)?(r?Object.keys:Y)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function s(e){var t=e[K];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:D(e)?3:0}function c(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){return 2===s(e)?e.get(t):e[t]}function p(e,t,r){var n=s(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return H&&e instanceof Map}function D(e){return L&&e instanceof Set}function y(e){return e.o||e.t}function h(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=X(e);delete t[K];for(var r=Y(t),n=0;n<r.length;n++){var o=r[n],u=t[o];!1===u.writable&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(t[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){return void 0===t&&(t=!1),g(e)||o(e)||!u(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=m),Object.freeze(e),t&&i(e,(function(e,t){return v(t,!0)}),!0)),e}function m(){n(2)}function g(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function C(e){var t=Z[e];return t||n(18,e),t}function b(e,t){Z[e]||(Z[e]=t)}function F(){return z}function E(e,t){t&&(C("Patches"),e.u=[],e.s=[],e.v=t)}function w(e){_(e),e.p.forEach(S),e.p=null}function _(e){e===z&&(z=e.l)}function A(e){return z={p:[],l:z,h:e,m:!0,_:0}}function S(e){var t=e[K];0===t.i||1===t.i?t.j():t.O=!0}function I(e,t){t._=t.p.length;var r=t.p[0],o=void 0!==e&&e!==r;return t.h.g||C("ES5").S(t,e,o),o?(r[K].P&&(w(t),n(4)),u(e)&&(e=k(t,e),t.l||P(t,e)),t.u&&C("Patches").M(r[K].t,e,t.u,t.s)):e=k(t,r,[]),w(t),t.u&&t.v(t.u,t.s),e!==V?e:void 0}function k(e,t,r){if(g(t))return t;var n=t[K];if(!n)return i(t,(function(o,u){return O(e,n,t,o,u,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return P(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=h(n.k):n.o;i(3===n.i?new Set(o):o,(function(t,u){return O(e,n,o,t,u,r)})),P(e,o,!1),r&&e.u&&C("Patches").R(n,r,e.u,e.s)}return n.o}function O(e,t,r,n,a,i){if(o(a)){var s=k(e,a,i&&t&&3!==t.i&&!c(t.D,n)?i.concat(n):void 0);if(p(r,n,s),!o(s))return;e.m=!1}if(u(a)&&!g(a)){if(!e.h.F&&e._<1)return;k(e,a),t&&t.A.l||P(e,a)}}function P(e,t,r){void 0===r&&(r=!1),e.h.F&&e.m&&v(t,r)}function x(e,t){var r=e[K];return(r?y(r):e)[t]}function M(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function j(e){e.P||(e.P=!0,e.l&&j(e.l))}function R(e){e.o||(e.o=h(e.t))}function U(e,t,r){var n=f(t)?C("MapSet").N(t,r):D(t)?C("MapSet").T(t,r):e.g?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:F(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=n,u=ee;r&&(o=[n],u=te);var a=Proxy.revocable(o,u),i=a.revoke,s=a.proxy;return n.k=s,n.j=i,s}(t,r):C("ES5").J(t,r);return(r?r.A:F()).p.push(n),n}function B(e){return o(e)||n(22,e),function e(t){if(!u(t))return t;var r,n=t[K],o=s(t);if(n){if(!n.P&&(n.i<4||!C("ES5").K(n)))return n.t;n.I=!0,r=T(t,o),n.I=!1}else r=T(t,o);return i(r,(function(t,o){n&&l(n.t,t)===o||p(r,t,e(o))})),3===o?new Set(r):r}(e)}function T(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return h(e)}function N(){function e(e,t){function r(){this.constructor=e}a(e,t),e.prototype=(r.prototype=t.prototype,new r)}function t(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function r(e){e.o||(e.o=new Set,e.t.forEach((function(t){if(u(t)){var r=U(e.A.h,t,e);e.p.set(t,r),e.o.add(r)}else e.o.add(t)})))}function o(e){e.O&&n(3,JSON.stringify(y(e)))}var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},s=function(){function r(e,t){return this[K]={i:2,l:t,A:t?t.A:F(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,O:!1},this}e(r,Map);var n=r.prototype;return Object.defineProperty(n,"size",{get:function(){return y(this[K]).size}}),n.has=function(e){return y(this[K]).has(e)},n.set=function(e,r){var n=this[K];return o(n),y(n).has(e)&&y(n).get(e)===r||(t(n),j(n),n.D.set(e,!0),n.o.set(e,r),n.D.set(e,!0)),this},n.delete=function(e){if(!this.has(e))return!1;var r=this[K];return o(r),t(r),j(r),r.t.has(e)?r.D.set(e,!1):r.D.delete(e),r.o.delete(e),!0},n.clear=function(){var e=this[K];o(e),y(e).size&&(t(e),j(e),e.D=new Map,i(e.t,(function(t){e.D.set(t,!1)})),e.o.clear())},n.forEach=function(e,t){var r=this;y(this[K]).forEach((function(n,o){e.call(t,r.get(o),o,r)}))},n.get=function(e){var r=this[K];o(r);var n=y(r).get(e);if(r.I||!u(n))return n;if(n!==r.t.get(e))return n;var a=U(r.A.h,n,r);return t(r),r.o.set(e,a),a},n.keys=function(){return y(this[K]).keys()},n.values=function(){var e,t=this,r=this.keys();return(e={})[J]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},n.entries=function(){var e,t=this,r=this.keys();return(e={})[J]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},n[J]=function(){return this.entries()},r}(),c=function(){function t(e,t){return this[K]={i:3,l:t,A:t?t.A:F(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,O:!1,C:!1},this}e(t,Set);var n=t.prototype;return Object.defineProperty(n,"size",{get:function(){return y(this[K]).size}}),n.has=function(e){var t=this[K];return o(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},n.add=function(e){var t=this[K];return o(t),this.has(e)||(r(t),j(t),t.o.add(e)),this},n.delete=function(e){if(!this.has(e))return!1;var t=this[K];return o(t),r(t),j(t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},n.clear=function(){var e=this[K];o(e),y(e).size&&(r(e),j(e),e.o.clear())},n.values=function(){var e=this[K];return o(e),r(e),e.o.values()},n.entries=function(){var e=this[K];return o(e),r(e),e.o.entries()},n.keys=function(){return this.values()},n[J]=function(){return this.values()},n.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}();b("MapSet",{N:function(e,t){return new s(e,t)},T:function(e,t){return new c(e,t)}})}r.d(t,{default:()=>se,createDraft:()=>ae,current:()=>B,enableMapSet:()=>N,finishDraft:()=>ie,original:()=>a,produce:()=>oe,setAutoFreeze:()=>ue});var q,z,G="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),H="undefined"!=typeof Map,L="undefined"!=typeof Set,W="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,V=G?Symbol.for("immer-nothing"):((q={})["immer-nothing"]=!0,q),$=G?Symbol.for("immer-draftable"):"__$immer_draftable",K=G?Symbol.for("immer-state"):"__$immer_state",J="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Q=""+Object.prototype.constructor,Y="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,X=Object.getOwnPropertyDescriptors||function(e){var t={};return Y(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},Z={},ee={get:function(e,t){if(t===K)return e;var r=y(e);if(!c(r,t))return function(e,t,r){var n,o=M(t,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!u(n)?n:n===x(e.t,t)?(R(e),e.o[t]=U(e.A.h,n,e)):n},has:function(e,t){return t in y(e)},ownKeys:function(e){return Reflect.ownKeys(y(e))},set:function(e,t,r){var n=M(y(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=x(y(e),t),u=null==o?void 0:o[K];if(u&&u.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(d(r,o)&&(void 0!==r||c(e.t,t)))return!0;R(e),j(e)}return e.o[t]===r&&"number"!=typeof r&&(void 0!==r||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==x(e.t,t)||t in e.t?(e.D[t]=!1,R(e),j(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=y(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},te={};i(ee,(function(e,t){te[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),te.deleteProperty=function(e,t){return te.set.call(this,e,t,void 0)},te.set=function(e,t,r){return ee.set.call(this,e[0],t,r,e[0])};var re=function(){function e(e){var t=this;this.g=W,this.F=!0,this.produce=function(e,r,o){if("function"==typeof e&&"function"!=typeof r){var a=r;r=e;var i=t;return function(e){var t=this;void 0===e&&(e=a);for(var n=arguments.length,o=Array(n>1?n-1:0),u=1;u<n;u++)o[u-1]=arguments[u];return i.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(o))}))}}var s;if("function"!=typeof r&&n(6),void 0!==o&&"function"!=typeof o&&n(7),u(e)){var c=A(t),l=U(t,e,void 0),p=!0;try{s=r(l),p=!1}finally{p?w(c):_(c)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return E(c,o),I(e,c)}),(function(e){throw w(c),e})):(E(c,o),I(s,c))}if(!e||"object"!=typeof e){if(void 0===(s=r(e))&&(s=e),s===V&&(s=void 0),t.F&&v(s,!0),o){var d=[],f=[];C("Patches").M(e,s,d,f),o(d,f)}return s}n(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),u=1;u<n;u++)o[u-1]=arguments[u];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(o))}))};var n,o,u=t.produce(e,r,(function(e,t){n=e,o=t}));return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return[e,n,o]})):[u,n,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){u(e)||n(8),o(e)&&(e=B(e));var t=A(this),r=U(this,e,void 0);return r[K].C=!0,_(t),r},t.finishDraft=function(e,t){var r=(e&&e[K]).A;return E(r,t),I(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!W&&n(20),this.g=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var u=C("Patches").$;return o(e)?u(e,t):this.produce(e,(function(e){return u(e,t)}))},e}(),ne=new re,oe=ne.produce,ue=(ne.produceWithPatches.bind(ne),ne.setAutoFreeze.bind(ne)),ae=(ne.setUseProxies.bind(ne),ne.applyPatches.bind(ne),ne.createDraft.bind(ne)),ie=ne.finishDraft.bind(ne);const se=oe},95320:e=>{"use strict";var t=Function.prototype.toString,r=/^\s*class\b/,n=function(e){try{var n=t.call(e);return r.test(n)}catch(e){return!1}},o=Object.prototype.toString,u="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(u)return function(e){try{return!n(e)&&(t.call(e),!0)}catch(e){return!1}}(e);if(n(e))return!1;var r=o.call(e);return"[object Function]"===r||"[object GeneratorFunction]"===r}},618923:e=>{"use strict";var t=Date.prototype.getDay,r=Object.prototype.toString,n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(n?function(e){try{return t.call(e),!0}catch(e){return!1}}(e):"[object Date]"===r.call(e))}},612636:(e,t,r)=>{"use strict";var n=Object.prototype.toString;if(r(241405)()){var o=Symbol.prototype.toString,u=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&u.test(o.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},130845:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function o(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(o=e[r],u=t[r],!(o===u||n(o)&&n(u)))return!1;var o,u;return!0}const u=function(e,t){var r;void 0===t&&(t=o);var n,u=[],a=!1;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return a&&r===this&&t(o,u)||(n=e.apply(this,o),a=!0,r=this,u=o),n}}},371124:()=>{},705626:()=>{},654328:()=>{},692491:()=>{},618987:(e,t,r)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,u=Object.prototype.toString,a=r(250884),i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),c=i.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===u.call(e),n=a(e),i=t&&"[object String]"===u.call(e),d=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var D=c&&r;if(i&&e.length>0&&!o.call(e,0))for(var y=0;y<e.length;++y)d.push(String(y));if(n&&e.length>0)for(var h=0;h<e.length;++h)d.push(String(h));else for(var v in e)D&&"prototype"===v||!o.call(e,v)||d.push(String(v));if(s)for(var m=function(e){if("undefined"==typeof window||!f)return p(e);try{return p(e)}catch(e){return!1}}(e),g=0;g<l.length;++g)m&&"constructor"===l[g]||!o.call(e,l[g])||d.push(l[g]);return d}}e.exports=n},482215:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(250884),u=Object.keys,a=u?function(e){return u(e)}:r(618987),i=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?i(n.call(e)):i(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},250884:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},611728:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var n=r(667294),o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw u}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=void 0;c="undefined"!=typeof window?window:"undefined"!=typeof self?self:r.g;var l=null,p=null,d=c.clearTimeout,f=c.setTimeout,D=c.cancelAnimationFrame||c.mozCancelAnimationFrame||c.webkitCancelAnimationFrame,y=c.requestAnimationFrame||c.mozRequestAnimationFrame||c.webkitRequestAnimationFrame;function h(e){var t=void 0,r=void 0,n=void 0,o=void 0,u=void 0,a=void 0,i=void 0,s="undefined"!=typeof document&&document.attachEvent;if(!s){a=function(e){var t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,o=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,o.style.width=r.offsetWidth+1+"px",o.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},u=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},i=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;a(this),this.__resizeRAF__&&l(this.__resizeRAF__),this.__resizeRAF__=p((function(){u(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(r){r.call(t,e)})))}))}};var d=!1,f="";n="animationstart";var D="Webkit Moz O ms".split(" "),y="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(d=!0),!1===d)for(var v=0;v<D.length;v++)if(void 0!==h.style[D[v]+"AnimationName"]){f="-"+D[v].toLowerCase()+"-",n=y[v],d=!0;break}t="@"+f+"keyframes "+(r="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",o=f+"animation: 1ms "+r+"; "}return{addResizeListener:function(u,l){if(s)u.attachEvent("onresize",l);else{if(!u.__resizeTriggers__){var p=u.ownerDocument,d=c.getComputedStyle(u);d&&"static"===d.position&&(u.style.position="relative"),function(r){if(!r.getElementById("detectElementResize")){var n=(t||"")+".resize-triggers { "+(o||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',u=r.head||r.getElementsByTagName("head")[0],a=r.createElement("style");a.id="detectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(r.createTextNode(n)),u.appendChild(a)}}(p),u.__resizeLast__={},u.__resizeListeners__=[],(u.__resizeTriggers__=p.createElement("div")).className="resize-triggers";var f=p.createElement("div");f.className="expand-trigger",f.appendChild(p.createElement("div"));var D=p.createElement("div");D.className="contract-trigger",u.__resizeTriggers__.appendChild(f),u.__resizeTriggers__.appendChild(D),u.appendChild(u.__resizeTriggers__),a(u),u.addEventListener("scroll",i,!0),n&&(u.__resizeTriggers__.__animationListener__=function(e){e.animationName===r&&a(u)},u.__resizeTriggers__.addEventListener(n,u.__resizeTriggers__.__animationListener__))}u.__resizeListeners__.push(l)}},removeResizeListener:function(e,t){if(s)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",i,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(n,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}null==D||null==y?(l=d,p=function(e){return f(e,20)}):(l=function(e){var t=s(e,2),r=t[0],n=t[1];D(r),d(n)},p=function(e){var t=y((function(){d(r),e()})),r=f((function(){D(t),e()}),20);return[t,r]});var v=function(e){function t(){var e,r,n;o(this,t);for(var u=arguments.length,a=Array(u),s=0;s<u;s++)a[s]=arguments[s];return r=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.state={height:n.props.defaultHeight||0,width:n.props.defaultWidth||0},n._onResize=function(){var e=n.props,t=e.disableHeight,r=e.disableWidth,o=e.onResize;if(n._parentNode){var u=n._parentNode.offsetHeight||0,a=n._parentNode.offsetWidth||0,i=window.getComputedStyle(n._parentNode)||{},s=parseInt(i.paddingLeft,10)||0,c=parseInt(i.paddingRight,10)||0,l=parseInt(i.paddingTop,10)||0,p=parseInt(i.paddingBottom,10)||0,d=u-l-p,f=a-s-c;(!t&&n.state.height!==d||!r&&n.state.width!==f)&&(n.setState({height:u-l-p,width:a-s-c}),o({height:u,width:a}))}},n._setRef=function(e){n._autoSizer=e},i(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=h(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,o=e.disableHeight,u=e.disableWidth,i=e.style,s=this.state,c=s.height,l=s.width,p={overflow:"visible"},d={},f=!1;return o||(0===c&&(f=!0),p.height=0,d.height=c),u||(0===l&&(f=!0),p.width=0,d.width=l),(0,n.createElement)("div",{className:r,ref:this._setRef,style:a({},p,i)},!f&&t(d))}}]),t}(n.PureComponent);v.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};const m=v},274061:(e,t,r)=>{"use strict";r.d(t,{VariableSizeList:()=>C,FixedSizeList:()=>b});var n=r(371336),o=r(218301),u=r(39821),a=r(130845),i=r(667294),s=(r(234574),"object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()});function c(e){cancelAnimationFrame(e.id)}function l(e,t){var r=s();var n={id:requestAnimationFrame((function o(){s()-r>=t?e.call(null):n.id=requestAnimationFrame(o)}))};return n}var p=null;function d(e){if(void 0===e&&(e=!1),null===p||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),o=n.style;return o.width="100px",o.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?p="positive-descending":(t.scrollLeft=1,p=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),p}return p}var f=function(e,t){return e};function D(e){var t,r,s=e.getItemOffset,p=e.getEstimatedTotalSize,D=e.getItemSize,h=e.getOffsetForIndexAndAlignment,v=e.getStartIndexForOffset,m=e.getStopIndexForStartIndex,g=e.initInstanceProps,C=e.shouldResetStyleCacheOnItemSizeChange,b=e.validateProps;return r=t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=g(r.props,(0,u.default)((0,u.default)(r))),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:(0,u.default)((0,u.default)(r)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=(0,a.default)((function(e,t,n,o){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:o})})),r._callOnScroll=void 0,r._callOnScroll=(0,a.default)((function(e,t,n){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,n=r.props,o=n.direction,u=n.itemSize,a=n.layout,i=r._getItemStyleCache(C&&u,C&&a,C&&o);if(i.hasOwnProperty(e))t=i[e];else{var c=s(r.props,e,r._instanceProps),l=D(r.props,e,r._instanceProps),p="horizontal"===o||"horizontal"===a,d="rtl"===o,f=p?c:0;i[e]=t={position:"absolute",left:d?void 0:f,right:d?f:void 0,top:p?0:c,height:p?"100%":l,width:p?l:"100%"}}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=(0,a.default)((function(e,t,r){return{}})),r._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,o=t.scrollLeft,u=t.scrollWidth;r.setState((function(e){if(e.scrollOffset===o)return null;var t=r.props.direction,a=o;if("rtl"===t)switch(d()){case"negative":a=-o;break;case"positive-descending":a=u-n-o}return a=Math.max(0,Math.min(a,u-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,o=t.scrollHeight,u=t.scrollTop;r.setState((function(e){if(e.scrollOffset===u)return null;var t=Math.max(0,Math.min(u,o-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&c(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=l(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}(0,o.default)(t,e),t.getDerivedStateFromProps=function(e,t){return y(e,t),b(e),null};var r=t.prototype;return r.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},r.scrollToItem=function(e,t){void 0===t&&(t="auto");var r=this.props.itemCount,n=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1)),this.scrollTo(h(this.props,e,t,n,this._instanceProps))},r.componentDidMount=function(){var e=this.props,t=e.direction,r=e.initialScrollOffset,n=e.layout;if("number"==typeof r&&null!=this._outerRef){var o=this._outerRef;"horizontal"===t||"horizontal"===n?o.scrollLeft=r:o.scrollTop=r}this._callPropsCallbacks()},r.componentDidUpdate=function(){var e=this.props,t=e.direction,r=e.layout,n=this.state,o=n.scrollOffset;if(n.scrollUpdateWasRequested&&null!=this._outerRef){var u=this._outerRef;if("horizontal"===t||"horizontal"===r)if("rtl"===t)switch(d()){case"negative":u.scrollLeft=-o;break;case"positive-ascending":u.scrollLeft=o;break;default:var a=u.clientWidth,i=u.scrollWidth;u.scrollLeft=i-a-o}else u.scrollLeft=o;else u.scrollTop=o}this._callPropsCallbacks()},r.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&c(this._resetIsScrollingTimeoutId)},r.render=function(){var e=this.props,t=e.children,r=e.className,o=e.direction,u=e.height,a=e.innerRef,s=e.innerElementType,c=e.innerTagName,l=e.itemCount,d=e.itemData,D=e.itemKey,y=void 0===D?f:D,h=e.layout,v=e.outerElementType,m=e.outerTagName,g=e.style,C=e.useIsScrolling,b=e.width,F=this.state.isScrolling,E="horizontal"===o||"horizontal"===h,w=E?this._onScrollHorizontal:this._onScrollVertical,_=this._getRangeToRender(),A=_[0],S=_[1],I=[];if(l>0)for(var k=A;k<=S;k++)I.push((0,i.createElement)(t,{data:d,key:y(k,d),index:k,isScrolling:C?F:void 0,style:this._getItemStyle(k)}));var O=p(this.props,this._instanceProps);return(0,i.createElement)(v||m||"div",{className:r,onScroll:w,ref:this._outerRefSetter,style:(0,n.default)({position:"relative",height:u,width:b,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:o},g)},(0,i.createElement)(s||c||"div",{children:I,ref:a,style:{height:E?"100%":O,pointerEvents:F?"none":void 0,width:E?O:"100%"}}))},r._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],r=e[1],n=e[2],o=e[3];this._callOnItemsRendered(t,r,n,o)}if("function"==typeof this.props.onScroll){var u=this.state,a=u.scrollDirection,i=u.scrollOffset,s=u.scrollUpdateWasRequested;this._callOnScroll(a,i,s)}},r._getRangeToRender=function(){var e=this.props,t=e.itemCount,r=e.overscanCount,n=this.state,o=n.isScrolling,u=n.scrollDirection,a=n.scrollOffset;if(0===t)return[0,0,0,0];var i=v(this.props,a,this._instanceProps),s=m(this.props,i,a,this._instanceProps),c=o&&"backward"!==u?1:Math.max(1,r),l=o&&"forward"!==u?1:Math.max(1,r);return[Math.max(0,i-c),Math.max(0,Math.min(t-1,s+l)),i,s]},t}(i.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},r}var y=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},h=function(e,t,r){var n=e.itemSize,o=r.itemMetadataMap,u=r.lastMeasuredIndex;if(t>u){var a=0;if(u>=0){var i=o[u];a=i.offset+i.size}for(var s=u+1;s<=t;s++){var c=n(s);o[s]={offset:a,size:c},a+=c}r.lastMeasuredIndex=t}return o[t]},v=function(e,t,r,n,o){for(;n<=r;){var u=n+Math.floor((r-n)/2),a=h(e,u,t).offset;if(a===o)return u;a<o?n=u+1:a>o&&(r=u-1)}return n>0?n-1:0},m=function(e,t,r,n){for(var o=e.itemCount,u=1;r<o&&h(e,r,t).offset<n;)r+=u,u*=2;return v(e,t,Math.min(r,o-1),Math.floor(r/2),n)},g=function(e,t){var r=e.itemCount,n=t.itemMetadataMap,o=t.estimatedItemSize,u=t.lastMeasuredIndex,a=0;if(u>=r&&(u=r-1),u>=0){var i=n[u];a=i.offset+i.size}return a+(r-u-1)*o},C=D({getItemOffset:function(e,t,r){return h(e,t,r).offset},getItemSize:function(e,t,r){return r.itemMetadataMap[t].size},getEstimatedTotalSize:g,getOffsetForIndexAndAlignment:function(e,t,r,n,o){var u=e.direction,a=e.height,i=e.layout,s=e.width,c="horizontal"===u||"horizontal"===i?s:a,l=h(e,t,o),p=g(e,o),d=Math.max(0,Math.min(p-c,l.offset)),f=Math.max(0,l.offset-c+l.size);switch("smart"===r&&(r=n>=f-c&&n<=d+c?"auto":"center"),r){case"start":return d;case"end":return f;case"center":return Math.round(f+(d-f)/2);default:return n>=f&&n<=d?n:n<f?f:d}},getStartIndexForOffset:function(e,t,r){return function(e,t,r){var n=t.itemMetadataMap,o=t.lastMeasuredIndex;return(o>0?n[o].offset:0)>=r?v(e,t,o,0,r):m(e,t,Math.max(0,o),r)}(e,r,t)},getStopIndexForStartIndex:function(e,t,r,n){for(var o=e.direction,u=e.height,a=e.itemCount,i=e.layout,s=e.width,c="horizontal"===o||"horizontal"===i?s:u,l=h(e,t,n),p=r+c,d=l.offset+l.size,f=t;f<a-1&&d<p;)f++,d+=h(e,f,n).size;return f},initInstanceProps:function(e,t){var r={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,n){void 0===n&&(n=!0),r.lastMeasuredIndex=Math.min(r.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),n&&t.forceUpdate()},r},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),b=D({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,r,n){var o=e.direction,u=e.height,a=e.itemCount,i=e.itemSize,s=e.layout,c=e.width,l="horizontal"===o||"horizontal"===s?c:u,p=Math.max(0,a*i-l),d=Math.min(p,t*i),f=Math.max(0,t*i-l+i);switch("smart"===r&&(r=n>=f-l&&n<=d+l?"auto":"center"),r){case"start":return d;case"end":return f;case"center":var D=Math.round(f+(d-f)/2);return D<Math.ceil(l/2)?0:D>p+Math.floor(l/2)?p:D;default:return n>=f&&n<=d?n:n<f?f:d}},getStartIndexForOffset:function(e,t){var r=e.itemCount,n=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(t/n)))},getStopIndexForStartIndex:function(e,t,r){var n=e.direction,o=e.height,u=e.itemCount,a=e.itemSize,i=e.layout,s=e.width,c=t*a,l="horizontal"===n||"horizontal"===i?s:o,p=Math.ceil((l+r-c)/a);return Math.max(0,Math.min(u-1,t+p-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}})},39821:(e,t,r)=>{"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{default:()=>n})},371336:(e,t,r)=>{"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{default:()=>n})},218301:(e,t,r)=>{"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.d(t,{default:()=>n})},234574:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(t,{default:()=>n})},817170:(e,t,r)=>{"use strict";r.d(t,{ExternalEvents:()=>s});var n=r(50706),o=r(225155),u=r(322559);function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,u=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw u}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=(0,n.default)((function e(){var t=this;(0,o.default)(this,e),(0,u.default)(this,"listeners",[]),(0,u.default)(this,"send",(function(e,r){var n,o=a(t.listeners);try{for(o.s();!(n=o.n()).done;){(0,n.value)(e,r)}}catch(e){o.e(e)}finally{o.f()}})),(0,u.default)(this,"subscribe",(function(e){return t.listeners.push(e),function(){t.listeners=t.listeners.filter((function(t){return t!==e}))}}))}))},878221:(e,t,r)=>{"use strict";r.d(t,{Idle:()=>s});var n=r(50706),o=r(225155),u=r(322559);function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,u=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw u}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=(0,n.default)((function e(t){var r=this;(0,o.default)(this,e),(0,u.default)(this,"listeners",new Set),(0,u.default)(this,"isIdle",(function(){return void 0===r.timeoutId})),(0,u.default)(this,"subscribe",(function(e){return r.listeners.add(e),function(){r.listeners.delete(e)}})),(0,u.default)(this,"onVisibilityChange",(function(){document.hidden?(document.removeEventListener("mousemove",r.onActive),document.removeEventListener("keydown",r.onActive),r.onIdle()):(document.addEventListener("mousemove",r.onActive),document.addEventListener("keydown",r.onActive),r.onActive())})),(0,u.default)(this,"onIdle",(function(){r.timeoutId&&(clearTimeout(r.timeoutId),r.timeoutId=void 0,r.notify())})),(0,u.default)(this,"onActive",(function(){var e=void 0!==r.timeoutId;r.timeoutId&&clearTimeout(r.timeoutId),r.timeoutId=window.setTimeout(r.onIdle,3e4),e||r.notify()})),(0,u.default)(this,"notify",(function(){r.logger.info("[IDLE]","user became ".concat(r.isIdle()?"idle":"active"));var e,t=a(r.listeners);try{for(t.s();!(e=t.n()).done;){(0,e.value)(r.isIdle())}}catch(e){t.e(e)}finally{t.f()}})),this.logger=t,this.onVisibilityChange(),document.addEventListener("visibilitychange",this.onVisibilityChange)}))},553890:(e,t,r)=>{"use strict";r.d(t,{Lang:()=>d});var n=r(975066),o=r(50706),u=r(225155),a=r(322559),i=r(474235),s=r(997864),c=r.n(s),l=r(533788),p=r(21705),d=(0,o.default)((function e(t,r,o){var s=this,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,u.default)(this,e),(0,a.default)(this,"use",(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return s.fold.apply(s,[e,function(e){return e},function(e){return e.join("")}].concat(r))})),(0,a.default)(this,"fold",(function(e,t,r){try{var n=arguments.length<=3?void 0:arguments[3],o=s.getTemplate(e);if(!o)return t(e);if(!n)return Array.isArray(o)?t(e):t(o);if("num"in n)o=(0,i.langNumeric)(n.num,o);else if("sex"in n){var u={female:"1",male:"2",unknown:"*"};o=(0,i.langSex)(u[n.sex],o)}if(Array.isArray(o)||!o)return t(e);if("values"in n&&Object.keys(n.values).length>0){var a=g.Grammar.tryParse(o),c=a.reduce((function(e,r){switch(r.type){case"StaticPlaceholder":var o=n.values[r.name];e.push(o);break;case"FunctionPlaceholder":var u=n.values[r.name];e.push(u(r.inner));break;case"Text":e.push(t(r.text));break;default:}return e}),[]);return r(c)}return t(o)}catch(r){return t(e)}})),(0,a.default)(this,"formatDate",(function(e,t){var r=new Date(e),n=new Date(t.now);try{switch(t.variant){case"date":case"date-short":return f((r.getFullYear()!==n.getFullYear()?s.getTemplate("global_date"):s.getTemplate("global_short_date"))[1],s.splitDate(r,{shortMonths:"date-short"===t.variant}));case"datetime":var o=r.getFullYear()!==n.getFullYear()?s.getTemplate("global_date_year_time"):s.getTemplate("global_short_date_time");return f(h(n,r)?o[3]:v(n,r)?o[2]:m(n,r)?o[4]:o[1],s.splitDate(r));case"time":var u=s.splitDate(r),a=u.hour,c=u.minute,l=u.am_pm;return"".concat(a,":").concat(c," ").concat(l);case"time-ago":var d=Math.floor((n.getTime()-e)/1e3);switch(!0){case d<60:return s.getTemplate("global_just_now");case d<3600:var D=Math.floor(d/60);return(0,i.langWordNumeric)(D,s.getTemplate("global_word_mins_ago"),s.getTemplate("global_mins_ago")).toString();case d<43200:var y=Math.floor(d/60/60);return(0,i.langWordNumeric)(y,s.getTemplate("global_word_hours_ago"),s.getTemplate("global_hours_ago")).toString();default:return s.formatDate(e,{now:t.now,variant:"datetime"})}case"history-date":var g=s.getTemplate("global_date");switch(!0){case h(n,r):return g[3];case v(n,r):return g[2];default:return s.formatDate(e,{now:t.now,variant:"date"})}default:return(0,p.exhaustivenessCheck)(t.variant)}}catch(e){return s.logger.error("[LANG] Ошибка форматирования даты ".concat(t.variant),e),r.toISOString()}})),(0,a.default)(this,"formatMonth",(function(e){var t=s.getTemplate("global_months_of");return(null==t?void 0:t[e])||""})),(0,a.default)(this,"formatNumber",(function(e){var t,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"regular";if("regular"===o)return e.toString().split(".").join(s.translations.config.numDec);switch(!0){case e>1e9:t=e/1e9,r="B";break;case e>1e6:t=e/1e6,r="M";break;case e>1e3:t=e/1e3,r="K";break;default:t=e,r=""}var u=t.toFixed(1).split("."),a=(0,n.default)(u,2),i=a[0],c=a[1],l=Number(c)?[i,c]:[i];return l.join(s.translations.config.numDec)+r})),(0,a.default)(this,"getTemplate",(function(e){if(!s.decodedKeys[e]){var t=s.translations.keys[e];if(!t)return;s.decodedKeys[e]=Array.isArray(t)?t.map(D):D(t)}return s.decodedKeys[e]})),(0,a.default)(this,"splitDate",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shortMonths:!1},r=t.shortMonths?s.getTemplate("global_months_short_of"):s.getTemplate("global_months_of"),n=e.getMinutes().toString().padStart(2,"0"),o=e.getHours().toString().padStart(2,"0"),u=e.getDate(),a=r[e.getMonth()]||r[0],i=e.getFullYear(),c="",l=s.translations.config.timeSys;return"12hour"===l[0]&&(c=e.getHours()>11?l[2]:l[1],o=(e.getHours()%12==0?12:e.getHours()%12).toString().padStart(2,"0")),{year:i,day:u,month:a,hour:o,minute:n,am_pm:c}})),this.logger=t,this.locale=r,this.translations=o,this.decodedKeys=c,(0,i.initLang)({source:function(){return o.keys},config:function(){return o.config}})}));function f(e,t){return Object.keys(t).reduce((function(e,r){return e.replace(new RegExp("{"+r+"}","g"),(t[r]||r).toString())}),e)}function D(e){var t=e.replace(/<br\s*\/?>/gi,"\n");return(0,l.decodeHTMLEntities)(t)}var y=864e5;function h(e,t){var r=e.getDate(),n=e.getMonth(),o=e.getFullYear();return t.getFullYear()===o&&t.getMonth()===n&&t.getDate()===r}function v(e,t){return h(e,new Date(t.getTime()+y))}function m(e,t){return h(e,new Date(t.getTime()-y))}var g=c().createLanguage({Grammar:function(e){return c().alt(e.FunctionPlaceholder,e.StaticPlaceholder,e.Text).many()},StaticPlaceholder:function(e){return c().seqObj(c().string("{"),["name",e.Name],c().string("}")).map((function(e){return{type:"StaticPlaceholder",name:e.name}}))},FunctionPlaceholder:function(e){return c().seqObj(c().string("{"),["name",e.Name],c().string("}")).chain((function(t){var r=t.name;return e.Text.map((function(e){var t=e.text;return{type:"FunctionPlaceholder",name:r,inner:t}})).skip(c().string("{/".concat(r,"}")))}))},Name:function(){return c().regex(/[a-zA-Z0-9_]+/)},Text:function(){return c().regex(/[^{}]+/).map((function(e){return{type:"Text",text:(0,l.decodeHTMLEntities)(e)}}))}})},452715:(e,t,r)=>{"use strict";r.d(t,{Player:()=>d});var n=r(467846),o=r(225155),u=r(50706),a=r(322559),i=r(343883),s=r.n(i),c=r(818172),l=r(21705),p="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=",d=function(){function e(t){var r=this;(0,o.default)(this,e),(0,a.default)(this,"prevRAFTimestamp",0),(0,a.default)(this,"hasMetaData",(function(){return!isNaN(r.player.duration)&&r.player.duration!==1/0&&0!==r.player.duration})),(0,a.default)(this,"metadata",(function(){return r.hasMetaData()?Promise.resolve():new Promise((function(e,t){var n=function(){r.player.duration!==1/0&&(u(),e())},o=function(e){u(),t(e)},u=function(){r.player.removeEventListener("durationchange",n),r.player.removeEventListener("error",o)};r.player.addEventListener("durationchange",n),r.player.addEventListener("error",o)}))})),(0,a.default)(this,"setState",(function(e){r.state="function"==typeof e?(0,c.default)(r.state,e):e,r.listeners.forEach((function(e){return e(r.state)}))})),(0,a.default)(this,"handleTimeUpdate",(function(e){"playing"===r.state.status&&(e-r.prevRAFTimestamp<25?window.requestAnimationFrame(r.handleTimeUpdate):(r.setState((function(e){if("playing"===e.status){var t=r.player.currentTime,n=Math.max(0,Math.min(1,t/r.player.duration));"Voice"===e.currentTrack.kind&&(e.voiceProgress=n,e.voiceTime=t),e.progress=n,e.time=t}})),window.requestAnimationFrame(r.handleTimeUpdate),r.prevRAFTimestamp=e))})),(0,a.default)(this,"play",function(){var e=(0,n.default)(s().mark((function e(t){var n,o=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:0,r.player.src=t.url,r.player.load(),r.setState((function(e){"Voice"===t.kind&&(e.currentVoice=t,e.voiceProgress=0,e.voiceDuration=0,e.voiceTime=0),e.currentTrack=t,e.progress=0,e.duration=0,e.time=0,e.status="loading"})),e.prev=4,e.next=7,r.metadata();case 7:r.setState((function(e){"Voice"===t.kind&&(e.currentVoice=t,e.voiceProgress=r.player.currentTime/r.player.duration,e.voiceDuration=r.player.duration,e.voiceTime=r.player.currentTime),e.currentTrack=t,e.progress=r.player.currentTime/r.player.duration,e.duration=r.player.duration,e.time=r.player.currentTime,e.status="playing"})),r.player.currentTime=n*r.player.duration,r.player.play(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),r.logger.error("Ошибка проигрывания аудио",e.t0),r.stop();case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()),(0,a.default)(this,"pause",(function(){"playing"===r.state.status&&(r.setState((function(e){e.status="paused"})),r.player.pause())})),(0,a.default)(this,"resume",(function(){"paused"===r.state.status&&(r.setState((function(e){e.status="playing"})),r.player.play())})),(0,a.default)(this,"stop",(function(){"stopped"!==r.state.status&&(r.setState(e.initial()),r.player.pause(),r.player.src=p,r.player.currentTime=0)})),(0,a.default)(this,"subscribe",(function(e){return r.listeners.push(e),function(){r.listeners=r.listeners.filter((function(t){return t!==e}))}})),(0,a.default)(this,"timeLeft",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?r.state.voiceDuration:r.state.duration,n=e?r.state.voiceTime:r.state.time,o=Math.floor(t-n);return"-"+(0,l.formatDuration)(o)})),this.logger=t,this.player=document.createElement("audio"),this.player.src=p,this.listeners=[],this.state=e.initial(),this.player.addEventListener("play",(function(){window.requestAnimationFrame(r.handleTimeUpdate)})),this.player.addEventListener("ended",(function(){r.setState((function(e){e.status="ended",e.progress=1,e.time=r.player.duration}))}))}return(0,u.default)(e,null,[{key:"initial",value:function(){return{status:"stopped",currentVoice:null,currentTrack:null,progress:0,duration:0,time:0,voiceProgress:0,voiceDuration:0,voiceTime:0}}}]),e}()},617254:(e,t,r)=>{"use strict";r.d(t,{Storage:()=>i});var n=r(231989),o=r(225155),u=r(50706),a=r(322559),i=function(){function e(t){var r=this;(0,o.default)(this,e),(0,a.default)(this,"identify",(function(e){r.viewerPeerId=e})),(0,a.default)(this,"get",(function(e){var t=r.mapKey(e);try{var n=localStorage.getItem(t);if(!n)return;return JSON.parse(n,c)}catch(e){return}})),(0,a.default)(this,"set",(function(e,t){var n=r.mapKey(e);try{localStorage.setItem(n,JSON.stringify(t,s))}catch(e){}})),(0,a.default)(this,"del",(function(e){var t=r.mapKey(e);try{localStorage.removeItem(t)}catch(e){}})),this.dbName=t}return(0,u.default)(e,[{key:"mapKey",value:function(e){if(!this.viewerPeerId)throw new Error("Перед использованием Storage должен быть идентифицирован!");return"".concat(this.dbName,"-").concat(this.viewerPeerId,"-").concat(e)}}]),e}();function s(e,t){return t instanceof Map?{dataType:"Map",entries:Array.from(t.entries())}:t instanceof Set?{dataType:"Set",entries:Array.from(t.entries())}:t}function c(e,t){if("object"===(0,n.default)(t)&&null!==t){if("Map"===t.dataType)return new Map(t.entries);if("Set"===t.dataType)return new Set(t.entries)}return t}},606729:(e,t,r)=>{"use strict";r.d(t,{Avatar:()=>p});r(705626);var n=r(667294),o=r(20700),u=r.n(o),a=r(784970),i=r(314432),s=r(21705),c=r(612214),l=r(124301),p=n.memo((function(e){var t=e.peer,r=e.size,o=e.activityIndicator,c=e.withOnline,p=void 0!==c&&c,f=e.activeCall,D=e.className,y=(0,a.useOnline)(t.id),h=(0,a.usePixelDensity)(),v=function(e,t){if("User"!==e.kind)return"Offline";if(t)switch(e.lastSeen.platform){case"mobile":return"Mobile";case"vkme":return"Me";case"other":return"Online";default:return(0,s.exhaustivenessCheck)(e.lastSeen.platform)}return"Offline"}(t,p&&y),m=!!f,g=function(e,t){if("Contact"===e.kind)return e.photo50;return t?e.photo100:e.photo50}(t,h),C=(0,n.useMemo)((function(){return{width:r,height:r}}),[r]),b=function(e,t,r){return"mePeerFrame".concat(e).concat(t).concat(r?"c":"")}(v,r,m),F="url(#".concat(b,"Mask").concat(t.id,")"),E=u()("MEAvatar","MEAvatar--size-".concat(r),{"MEAvatar--withActivity":!!o,"MEAvatar--emptyCall":"empty"===f},D);return n.createElement("figure",{style:C,className:E},n.createElement("div",{className:"MEAvatar__imgWrapper",style:{clipPath:F}},g?n.createElement("img",{className:"MEAvatar__img",alt:i.name(t),src:g,loading:"lazy"}):n.createElement(l.AvatarNoPhoto,{peer:t,size:r}),o&&n.createElement("div",{className:"MEAvatar__activityIndicator"},o)),n.createElement(d,{frameType:v}),m&&n.createElement("div",{className:"MEAvatar__call"},n.createElement("svg",{className:"MEAvatar__callIcon"},n.createElement("use",{href:"#mePhone10"}))),n.createElement("svg",{className:"MEAvatar__svg"},n.createElement("clipPath",{id:b+"Mask"+t.id},n.createElement("use",{href:"#"+b})),n.createElement("use",{href:"#"+b,className:"MEAvatar__shadow",clipPath:F})))}));var d=function(e){var t=e.frameType,r=(0,a.useFeatureFlags)();switch(t){case"Me":return n.createElement("svg",{className:"MEAvatar__me"},r.me_vkme?n.createElement("use",{href:"#meOnlineVkMe"}):n.createElement("use",{href:"#meOnlineVkMeLegacy"}));case"Mobile":return n.createElement("div",{className:"MEAvatar__mobile"},n.createElement(c.default,null));case"Online":return n.createElement("div",{className:"MEAvatar__online"});case"Offline":return null;default:(0,s.exhaustivenessCheck)(t)}}},124301:(e,t,r)=>{"use strict";r.d(t,{AvatarNoPhoto:()=>l});r(654328);var n=r(667294),o=r(20700),u=r.n(o),a=r(314432),i=r(21705),s=r(29057),c=r.n(s),l=function(e){var t=e.peer,r=e.size,o=e.style,s=a.isContactPeerId(t.id)?"AvatarNoPhoto--color-contact":"AvatarNoPhoto--color-".concat(Math.abs(t.id%6));return n.createElement("div",{style:o,className:u()("AvatarNoPhoto","AvatarNoPhoto--size-".concat(r),s)},function(e){var t=function(e){var t=c()().exec(e);return t&&0===t.index?t[0]:(Array.from(e)[0]||"").toUpperCase()},r="";switch(e.kind){case"User":r=[e.firstName,e.lastName].filter(Boolean).map(t).join("");break;case"Group":r=t(e.name);break;case"Chat":r=t(e.title);break;case"Contact":r=e.name.split(/\s/).slice(0,2).map(t).join("");break;default:(0,i.exhaustivenessCheck)(e)}return r}(t))}},509727:(e,t,r)=>{"use strict";r.d(t,{hasGap:()=>v,isMuted:()=>m,length:()=>g,canShow:()=>C,isPinned:()=>b,canPin:()=>F,isUnread:()=>E,isUnreadOut:()=>w,hasUnreadExpireables:()=>_,hasUnreadMentions:()=>A,isEmpty:()=>S,isNew:()=>I,head:()=>k,findMessageById:()=>O,newerQueued:()=>P,iterable:()=>x,isMessageUnread:()=>M,isCmidInIterator:()=>j,canReadMembers:()=>R,sorter:()=>U,isHidden:()=>B,updatePush:()=>T,appendMessage:()=>N,appendQueuedMessage:()=>q,replaceMessage:()=>z,insertMessages:()=>G,cleanup:()=>H,markRead:()=>L,readInUntil:()=>W,readOutUntil:()=>V,updateSendingFail:()=>K,updateSortId:()=>J,updateIsNew:()=>Q,updateFlags:()=>Y,updateMessageFlags:()=>X,addMember:()=>Z,removeMember:()=>ee,replaceMembers:()=>te,setChatPermissions:()=>re,pinMessage:()=>ne,unpinMessage:()=>oe,updateActiveCall:()=>ue,fromAcceptedMessageRequest:()=>ae,safeGet:()=>ie});var n=r(278765),o=r(621094),u=r(293209),a=r(322559),i=r(314432),s=r(980662),c=r(21705),l=r(190831),p=["isMarkedUnread","isArchived","DONT_USE_isMuted"],d=["kind","messageRequestData"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,u=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw u}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e){return void 0!==e.afterGapCmid}function m(e){return"everything"!==e.push.mode}function g(e){return{persisted:e.persisted.size,total:e.persisted.size+e.queued.size}}function C(e){var t=e.hasMore?e.unreadCount+1:e.unreadCount;return!(!v(e)&&e.persisted.size<t)}function b(e){return[4,5,6].some((function(t){return(e.majorSortId&1<<t)>0}))}function F(e){return!e.isArchived&&!S(e)&&"MessageRequestConvo"!==e.kind}function E(e){return e.unreadCount>0||e.isMarkedUnread}function w(e){var t=k(e);return!!t&&(t.isOut&&M(e,t))}function _(e){return e.unreadExpireables.size>0}function A(e){switch(e.kind){case"UserConvo":case"GroupConvo":case"ContactConvo":case"MessageRequestConvo":return!1;case"ChatConvo":return e.unreadMentions.size>0;default:return(0,c.exhaustivenessCheck)(e)}}function S(e){return!e.hasMore&&0===e.persisted.size&&0===e.queued.size}function I(e){return e.isNew}function k(e){var t=e.queued.get(e.queuedId);if(t)return t;var r=e.persisted.get(e.persistedCmid);return r||void 0}function O(e,t){var r,n=y(x(e));try{for(n.s();!(r=n.n()).done;){var o=r.value.message;if("id"in o&&o.id===t)return o}}catch(e){n.e(e)}finally{n.f()}}function P(e,t){var r=e.queued.get(t);if(r)return e.queued.get(r.newerId)}function x(e){return(0,a.default)({},Symbol.iterator,(function(){var t=void 0!==e.afterGapCmid?e.persisted.get(e.afterGapCmid):k(e);return{next:function(){var r=t;return r?"Queued"!==r.kind?{value:{message:r,older:t=e.persisted.get(r.olderCmid)}}:{value:{message:r,older:t=e.queued.get(r.olderId)||e.persisted.get(e.persistedCmid)}}:{done:!0,value:null}}}}))}function M(e,t){if(t.peerId!==e.peerId)throw new Error("Передано сообщение не принадлежащее беседе");return"Queued"===t.kind||(t.isOut?t.cmid>e.outReadBy:t.cmid>e.inReadBy)}function j(e,t){return e.persisted.has(t)&&(!e.afterGapCmid||t<=e.afterGapCmid)}function R(e){return e.canWrite.allowed||!e.canWrite.allowed&&"no_access"!==e.canWrite.reason}function U(e,t){if(e.majorSortId!==t.majorSortId)return t.majorSortId-e.majorSortId;var r=null==e?void 0:e.queued.get(e.queuedId),n=null==t?void 0:t.queued.get(t.queuedId);return r&&!n?-1:n&&!r?1:r&&n?n.sentAt-r.sentAt:t.minorSortId-e.minorSortId}function B(e){return e.majorSortId<=0&&e.minorSortId<=0}function T(e,t){e.push=t}function N(e,t,r,n,o){if(t.peerId!==e.peerId)throw new Error("Передано сообщение не принадлежащее беседе");if(!(e.persistedCmid>=t.cmid)){if(!t.isOut&&M(e,t)&&e.unreadCount++,$(t.isOut,e),o){switch(o.kind){case"InputKeyboardUpsertEvent":e.currentKeyboard=o.keyboard;break;case"InputKeyboardDeleteEvent":delete e.currentKeyboard;break;default:return(0,c.exhaustivenessCheck)(o)}e.currentKeyboard="InputKeyboardUpsertEvent"===o.kind?o.keyboard:void 0}if(e.minorSortId=r,"ChatConvo"===e.kind&&n&&e.unreadMentions.add(t.cmid),"Normal"===t.kind&&t.expireTTL&&e.unreadExpireables.add(t.cmid),"Normal"===t.kind&&t.randomId){var u=e.queued.get(t.randomId);if(u){e.queued.delete(u.randomId);var a=e.queued.get(u.olderId),i=e.queued.get(u.newerId);i&&(i.olderId=u.olderId),a&&(a.newerId=u.newerId),e.queuedId===u.randomId&&(e.queuedId=u.olderId)}0===e.queued.size&&(e.queuedId=s.resolveRandomId())}var l=e.persisted.get(e.persistedCmid);l&&(l.newerCmid=t.cmid),e.persisted.set(t.cmid,D(D({},t),{},{newerCmid:s.resolveCmid(),olderCmid:e.persistedCmid})),e.persistedCmid=t.cmid}}function q(e,t){e.queued.set(t.randomId,D(D({},t),{},{newerId:s.resolveRandomId(),olderId:e.queuedId}));var r=e.queued.get(e.queuedId);r&&(r.newerId=t.randomId),e.queuedId=t.randomId,$(t.isOut,e)}function z(e,t,r){"ChatConvo"===e.kind&&(e.unreadMentions.delete(t.cmid),r&&M(e,t)&&e.unreadMentions.add(t.cmid)),e.unreadExpireables.delete(t.cmid),("Normal"===t.kind&&t.expireTTL||"Expired"===t.kind)&&M(e,t)&&e.unreadExpireables.add(t.cmid);var n=e.persisted.get(t.cmid);n&&e.persisted.set(n.cmid,D(D({},t),{},{newerCmid:n.newerCmid,olderCmid:n.olderCmid}))}function G(e,t,r){void 0!==r&&(e.hasMore=r);var n=t[0];if(n){var o=t=t.filter((function(t){return!(null!=e&&e.persisted.has(t.cmid))})),a=(0,u.default)(o),i=a[0],c=a.slice(1);if(i){var l,p=new Map,d=D(D({},i),{},{olderCmid:s.resolveCmid(),newerCmid:s.resolveCmid()}),f=d,h=y(c);try{for(h.s();!(l=h.n()).done;){var v=l.value;d.olderCmid=v.cmid,p.set(d.cmid,d),d=D(D({},v),{},{olderCmid:s.resolveCmid(),newerCmid:d.cmid})}}catch(e){h.e(e)}finally{h.f()}if(p.set(d.cmid,d),f&&d){for(var m,g=f.cmid;g<=e.persistedCmid&&!(m=e.persisted.get(g));g++);if(!m)return e.persistedCmid=f.cmid,void(e.persisted=p);var C=e.persisted.get(m.olderCmid),b=m.cmid>n.cmid+1;switch(!0){case!e.afterGapCmid&&b:e.afterGapCmid=f.cmid;break;case e.afterGapCmid&&n.id>e.afterGapCmid:e.afterGapCmid=b?f.cmid:void 0;break;case e.afterGapCmid&&!C&&b:return}m.olderCmid=f.cmid,f.newerCmid=m.cmid,C&&(d.olderCmid=C.cmid,C.newerCmid=d.cmid);var F,E=y(p.values());try{for(E.s();!(F=E.n()).done;){var w=F.value;e.persisted.set(w.cmid,w)}}catch(e){E.e(e)}finally{E.f()}}}}}function H(e){if(0===e.unreadCount&&v(e)&&function(e){if(e.afterGapCmid){var t,r=y(x(e));try{for(r.s();!(t=r.n()).done;){var n=t.value.message;"Queued"!==n.kind&&n.cmid<=e.afterGapCmid&&e.persisted.delete(n.cmid)}}catch(e){r.e(e)}finally{r.f()}delete e.afterGapCmid}}(e),!(e.unreadCount>0||v(e))){var t=l.MESSAGES_PER_PAGE;if(!(e.persisted.size<2*t)){for(var r=0,n=e.persisted.get(e.persistedCmid);n;){var o=e.persisted.get(n.olderCmid);r>=t&&(n.olderCmid=s.resolveCmid(),e.persisted.delete(n.cmid)),r++,n=o}e.hasMore=!0}}}function L(e){e.isMarkedUnread=!1}function W(e,t,r){if(!(e.inReadBy>=t)){if("number"!=typeof r){var n=(0,o.default)(e.persisted.values()).filter((function(r){return!r.isOut&&M(e,r)&&r.cmid<=t})).length;r=Math.max(0,e.unreadCount-n)}switch(e.inReadBy=t,e.unreadCount=r,0===r&&(e.isMarkedUnread=!1),e.kind){case"UserConvo":case"GroupConvo":case"ContactConvo":case"MessageRequestConvo":break;case"ChatConvo":var u,a=y(e.unreadMentions);try{for(a.s();!(u=a.n()).done;){var i=u.value;i<=t&&e.unreadMentions.delete(i)}}catch(e){a.e(e)}finally{a.f()}break;default:(0,c.exhaustivenessCheck)(e)}var s,l=y(e.unreadExpireables);try{for(l.s();!(s=l.n()).done;){var p=s.value;p<=t&&e.unreadExpireables.delete(p)}}catch(e){l.e(e)}finally{l.f()}}}function V(e,t){e.outReadBy>=t||(e.outReadBy=t)}function $(e,t){var r;e&&null!==(r=t.currentKeyboard)&&void 0!==r&&r.oneTime&&delete t.currentKeyboard}function K(e,t,r){var n=e.queued.get(t);n&&s.updateFail(n,r)}function J(e,t){"majorSortId"in t?e.majorSortId=t.majorSortId:e.minorSortId=t.minorSortId}function Q(e,t){e.isNew=t}function Y(e,t,r){var o,u=se({isMarkedUnread:e.isMarkedUnread,isArchived:e.isArchived});switch(t){case"unset":o=se(u&~r);break;case"replace":o=se(r);break;case"set":o=se(u|r);break;default:(0,c.exhaustivenessCheck)(t)}var a=o,i=a.isMarkedUnread,s=a.isArchived;a.DONT_USE_isMuted,(0,n.default)(a,p);e.isMarkedUnread=i,e.isArchived=s}function X(e,t,r,n){var o=e.persisted.get(t);if(o&&s.updateFlags(o,r,n).isDeleted){!o.isOut&&M(e,o)&&(e.unreadCount=Math.max(0,e.unreadCount-1)),"ChatConvo"===e.kind&&e.unreadMentions.delete(o.cmid),e.unreadExpireables.delete(o.cmid);var u=e.persisted.get(o.newerCmid),a=e.persisted.get(o.olderCmid);a&&(a.newerCmid=o.newerCmid,e.persistedCmid===o.cmid&&(e.persistedCmid=a.cmid)),u&&(u.olderCmid=o.olderCmid),e.persisted.delete(o.cmid)}}function Z(e,t){e.members&&(e.membersCount++,e.members.push(t))}function ee(e,t){e.members&&(e.membersCount--,e.members=e.members.filter((function(e){return e!==t})))}function te(e,t){e.membersCount=t.length,e.members=t}function re(e,t,r){e.permissions=t,e.isService=r}function ne(e,t){e.pinnedMessage=t}function oe(e){var t=e.pinnedMessage;return delete e.pinnedMessage,t}function ue(e,t){e.activeCall=t}function ae(e){e.kind,e.messageRequestData;return D(D({},(0,n.default)(e,d)),{},{kind:"UserConvo"})}function ie(e,t){var r=e.get(t);if(r)return r;if(c.isDev)throw new Error("Беседа ".concat(t," не найдена в кэше! Обрати внимание на то как загружаются недостающие данные в сторе."));return e.get(i.resolveId())}function se(e){var t={DONT_USE_isMuted:4,isMarkedUnread:20,isArchived:23};if("number"==typeof e){var r,n={},o=y(Object.keys(t));try{for(o.s();!(r=o.n()).done;){var u=r.value;n[u]=(e&1<<t[u])>0}}catch(e){o.e(e)}finally{o.f()}return n}var a,i=0,s=y(Object.keys(e));try{for(s.s();!(a=s.n()).done;){var c=a.value;e[c]&&(i|=1<<t[c])}}catch(e){s.e(e)}finally{s.f()}return i}},577268:(e,t,r)=>{"use strict";r.d(t,{empty:()=>l,snakeCaseId:()=>d,isVisible:()=>f,push:()=>D,refresh:()=>y,updateCounters:()=>h});var n=r(322559),o=r(509727),u=r(21705);function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,u=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw u}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(){var e={peerIds:new Set,hasMore:!0,unreadCount:0,totalCount:0,boundary:{majorSortId:0,minorSortId:1}};return{all:c({kind:"all"},e),unread:c({kind:"unread"},e),archive:c({kind:"archive",hasMentions:!1,isHidden:!1},e),messageRequest:c({kind:"messageRequest"},e)}}var p={all:"all",unread:"unread",messageRequest:"message_request",businessNotify:"business_notify",archive:"archive"};function d(e){return p[e]}function f(e){switch(e.kind){case"all":case"unread":return!0;case"messageRequest":return e.peerIds.size>0||e.hasMore;default:return!e.isHidden&&(e.peerIds.size>0||e.hasMore)}}function D(e,t,r,n){var o,u=a(r);try{for(u.s();!(o=u.n()).done;){var i=o.value;v(e,t,i),y(e,i)}}catch(e){u.e(e)}finally{u.f()}e[t].hasMore=e[t].peerIds.size<n}function y(e,t){switch(t.kind){case"ChatConvo":case"GroupConvo":case"UserConvo":case"ContactConvo":case"MessageRequestConvo":return e.all.peerIds.delete(t.peerId),e.unread.peerIds.delete(t.peerId),e.archive.peerIds.delete(t.peerId),e.messageRequest.peerIds.delete(t.peerId),t.isArchived?void(m(e.archive,t)&&e.archive.peerIds.add(t.peerId)):"MessageRequestConvo"===t.kind?void(m(e.messageRequest,t)&&e.messageRequest.peerIds.add(t.peerId)):(m(e.all,t)&&e.all.peerIds.add(t.peerId),e.unread.peerIds.delete(t.peerId),void(o.isUnread(t)&&m(e.unread,t)&&e.unread.peerIds.add(t.peerId)));default:return(0,u.exhaustivenessCheck)(t)}}function h(e,t){var r=t.unread,n=t.archive,o=t.archiveTotal,u=t.archiveMentions,a=t.messageRequests;void 0!==r&&(e.all.unreadCount=r,e.unread.unreadCount=r),void 0!==n&&(e.archive.unreadCount=n),void 0!==u&&(e.archive.hasMentions=!!u),void 0!==o&&(e.archive.hasMore=e.archive.peerIds.size<o,e.archive.totalCount=o),void 0!==a&&(e.messageRequest.hasMore=e.messageRequest.peerIds.size<a,e.messageRequest.unreadCount=a)}function v(e,t,r){o.isHidden(r)||(r.majorSortId<e[t].boundary.majorSortId?e[t].boundary={majorSortId:r.majorSortId,minorSortId:r.minorSortId}:r.majorSortId===e[t].boundary.majorSortId&&r.minorSortId<e[t].boundary.minorSortId&&(e[t].boundary.minorSortId=r.minorSortId),"all"===t&&v(e,"unread",r))}function m(e,t){return!o.isHidden(t)&&(t.majorSortId>e.boundary.majorSortId||t.majorSortId===e.boundary.majorSortId&&t.minorSortId>=e.boundary.minorSortId)}},215284:(e,t,r)=>{"use strict";r.d(t,{Api:()=>b});var n=r(92993),o=r(904604),u=r(81944),a=r(186865),i=r(467846),s=r(621094),c=r(225155),l=r(50706),p=r(322559),d=r(343883),f=r.n(d),D=r(816405),y=r(204743),h=r(190831),v=r(21705);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.default)(this,r)}}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,p.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=function(){function e(t,r,n){var o=this;(0,c.default)(this,e),(0,p.default)(this,"waiting",[]),(0,p.default)(this,"freeResources",h.API_RATE_LIMIT),(0,p.default)(this,"abortTrackers",new Map),(0,p.default)(this,"enrichParams",(function(e,t){var r=e.slice(0,e.indexOf(".")),n={messages:Array.from(new Set([].concat((0,s.default)(h.API_USER_FIELDS),(0,s.default)(h.API_GROUP_FIELDS)))).join(","),users:h.API_USER_FIELDS.join(","),groups:h.API_GROUP_FIELDS.join(",")}[r];return C(C({},t),{},{extended:1,fields:n})})),(0,p.default)(this,"doFetch",function(){var e=(0,i.default)(f().mark((function e(t,r,n,u){var a,i,s,c,l,p;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.lock()){e.next=2;break}return e.abrupt("return",new Promise((function(e,a){o.waiting.push((function(){return o.doFetch(t,r,n,u).then(e).catch(a)}))})));case 2:return o.logger.info("[API] Request",t,r),a=C(C({},o.enrichParams(t,r)),{},{v:D.API_VERSION,access_token:o.token}),i="".concat(h.API_BASE_URL,"/method/").concat(t,"?").concat(y.stringify(a)),e.prev=5,s=o.request(i,n),c=s.response,l=s.abort,u&&o.abortTrackers.set(u,l),e.next=10,c;case 10:if(p=e.sent,u&&o.abortTrackers.delete(u),o.logger.info("[API] Response",t,p),o.release(),!p.error){e.next=16;break}return e.abrupt("return",Promise.reject(new F(p.error.error_code,p.error.error_msg)));case 16:if(!p.execute_errors){e.next=18;break}return e.abrupt("return",Promise.reject(new E));case 18:return e.abrupt("return",p.response);case 21:return e.prev=21,e.t0=e.catch(5),e.t0 instanceof Error&&"NetworkError"!==e.t0.name||o.logger.error("[API] Error "+t,e.t0),o.release(),e.abrupt("return",Promise.reject(e.t0));case 27:case"end":return e.stop()}}),e,null,[[5,21]])})));return function(t,r,n,o){return e.apply(this,arguments)}}()),(0,p.default)(this,"lock",(function(){return 0!==o.freeResources&&(o.freeResources=Math.max(o.freeResources-1,0),!0)})),(0,p.default)(this,"release",(function(){setTimeout((function(){o.freeResources=Math.min(o.freeResources+1,h.API_RATE_LIMIT);var e=o.waiting.shift();e&&e()}),h.API_RATE_LIMIT_WINDOW+50)})),this.logger=t,this.request=r,this.refreshToken=n}var t;return(0,l.default)(e,[{key:"fetch",value:(t=(0,i.default)(f().mark((function e(t,r){var n,o,u,a,i,s=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>2&&void 0!==s[2]?s[2]:{},this.token){e.next=5;break}return e.next=4,this.refreshToken(!1);case 4:this.token=e.sent;case 5:o="messages.getLongPollHistory"===t?2e3:h.API_MAX_RETRY_TIMEOUT,u=n.retries||0,a=0;case 8:return e.prev=9,e.next=12,this.doFetch(t,r,n.timeout||h.API_DEFAULT_TIMEOUT,n.trackId);case 12:return i=e.sent,e.abrupt("return",i);case 16:if(e.prev=16,e.t0=e.catch(9),!(e.t0 instanceof Error&&"AbortError"===e.t0.name)){e.next=20;break}throw e.t0;case 20:if(a!==u){e.next=22;break}throw e.t0;case 22:if(!(e.t0 instanceof F&&5===e.t0.code)){e.next=26;break}return e.next=25,this.refreshToken(!0);case 25:this.token=e.sent;case 26:return e.next=28,(0,v.sleep)(Math.min(h.API_MIN_RETRY_TIMEOUT*Math.pow(2,a),o));case 28:a++;case 29:e.next=8;break;case 31:case"end":return e.stop()}}),e,this,[[9,16]])}))),function(e,r){return t.apply(this,arguments)})},{key:"fetchMany",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],n=Object.keys(e),o=0,u=n;o<u.length;o++){var a=u[o];r.push("'".concat(a,"': API.").concat(a,"(").concat(JSON.stringify(this.enrichParams(a,e[a])),")"))}var i="return { ".concat(r.join(",")," };");return this.fetch("execute",{code:i},t)}},{key:"dangerouslyAbort",value:function(e){var t;e&&(null===(t=this.abortTrackers.get(e))||void 0===t||t(),this.abortTrackers.delete(e))}}],[{key:"resolveTrackId",value:function(e,t){if(0===t.length)throw new Error("Нельзя отдавать пустую строку в Api.resolveTrackId");return"".concat(e,"-").concat(t)}}]),e}(),F=function(e){(0,n.default)(r,e);var t=m(r);function r(e,n){var o;return(0,c.default)(this,r),(o=t.call(this,n)).code=e,o}return(0,l.default)(r)}((0,a.default)(Error)),E=function(e){(0,n.default)(r,e);var t=m(r);function r(){return(0,c.default)(this,r),t.call(this,"Execute error")}return(0,l.default)(r)}((0,a.default)(Error))},211719:(e,t,r)=>{"use strict";r.d(t,{Engine:()=>f});var n=r(621094),o=r(467846),u=r(50706),a=r(225155),i=r(322559),s=r(343883),c=r.n(s),l=r(21705);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=(0,u.default)((function e(t,r){var u=this;(0,a.default)(this,e),(0,i.default)(this,"reconnectTimeout",new l.RetryTimeout(250,2e4)),(0,i.default)(this,"skipBackoff",(function(){})),(0,i.default)(this,"isWorking",!1),(0,i.default)(this,"empty",(function(){return{kind:"Buffer",buffer:[],isReconnecting:!1}})),(0,i.default)(this,"queued",this.empty()),(0,i.default)(this,"connect",(function(e){if(!u.isWorking){u.isWorking=!0,u.queued=u.empty();var t=function(){var t=(0,o.default)(c().mark((function t(){var r,n,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u.isWorking){t.next=32;break}if(!("Buffer"===u.queued.kind&&u.queued.buffer.length>=50)){t.next=5;break}return u.isWorking=!1,u.dispatch({kind:"Failure"}),t.abrupt("return");case 5:return t.prev=5,r=["act=a_check","key=".concat(e.key),"ts=".concat(e.ts),"wait=".concat(25),"mode=".concat(170),"version=".concat(u.version)],n="https://".concat(e.server,"?").concat(r.join("&")),t.next=10,u.request(n,3e4);case 10:if(o=t.sent,u.reconnectTimeout.reset(),!("failed"in o)){t.next=17;break}return u.logger.info("[ENGINE] Failure",o),u.isWorking=!1,u.dispatch({kind:"Failure"}),t.abrupt("return");case 17:e.ts=o.ts,e.pts=o.pts,u.dispatch(d({kind:"Batch"},o)),t.next=30;break;case 22:return t.prev=22,t.t0=t.catch(5),t.t0 instanceof Error&&"NetworkError"!==t.t0.name||u.logger.error("[ENGINE]",t.t0),u.dispatch({kind:"Reconnecting"}),t.next=29,new Promise((function(e){u.logger.info("[ENGINE]","Reconnecting in ".concat(u.reconnectTimeout.delay()));var t=setTimeout((function(){u.logger.info("[ENGINE]","Reconnecting..."),u.skipBackoff=function(){},e()}),u.reconnectTimeout.delay());u.skipBackoff=function(){clearTimeout(t),u.reconnectTimeout.reset(),u.skipBackoff=function(){},e()}}));case 29:u.reconnectTimeout.backoff();case 30:t.next=0;break;case 32:case"end":return t.stop()}}),t,null,[[5,22]])})));return function(){return t.apply(this,arguments)}}();t(),u.logger.info("[ENGINE] Connected")}})),(0,i.default)(this,"dispatch",(function(e){if("Callback"===u.queued.kind)return u.queued.resolve(e),void(u.queued=u.empty());switch(u.queued.isReconnecting=!1,e.kind){case"Failure":return void u.queued.buffer.push(e);case"Batch":var t,r=u.queued.buffer[u.queued.buffer.length-1];if(r&&"Failure"!==r.kind&&r.pts===e.pts)r.ts=e.ts,r.pts=e.pts,(t=r.updates).push.apply(t,(0,n.default)(e.updates));else u.queued.buffer.push(e);return;case"Reconnecting":return void(u.queued.isReconnecting=!0);default:(0,l.exhaustivenessCheck)(e)}})),(0,i.default)(this,"skipWaiting",(function(){u.skipBackoff()})),(0,i.default)(this,"poll",(function(){if("Callback"===u.queued.kind)return u.queued.reject("Engine.poll вызван повторно до обработки первого вызова!"),new Promise((function(e,t){u.queued={kind:"Callback",resolve:e,reject:t}}));var e=u.queued.buffer.shift();return e?Promise.resolve(e):u.queued.isReconnecting?Promise.resolve({kind:"Reconnecting"}):u.isWorking?new Promise((function(e,t){u.queued={kind:"Callback",resolve:e,reject:t}})):Promise.reject("Engine.connect еще не был вызван!")})),(0,i.default)(this,"isConnected",(function(){return u.isWorking})),this.logger=t,this.request=r,this.version=19}))},526067:(e,t,r)=>{"use strict";r.d(t,{IRouter:()=>n});var n,o=r(314432),u=r(997864);!function(e){e.urlParser=function(e){var n=u.alt(r,t).parse(e);if(!0===n.status)switch(n.value.name){case"Main":return{kind:"Main"};case"Convo":return{kind:"Convo",peerId:o.resolveId(Number(n.value.value.peerId)),entrypoint:"list_all"};default:return{kind:"NotFound"}}return{kind:"NotFound"}};var t=u.string("/").node("Main"),r=u.seqObj(u.string("/convo/"),["peerId",u.regexp(/(-)?[0-9]{1,10}$/)]).map((function(e){return{kind:"Convo",peerId:o.resolveId(Number(e.peerId))}})).node("Convo");e.createPathFromRoute=function(e){return"Convo"===e.kind?"/convo/".concat(e.peerId):"/"}}(n||(n={}))},16032:(e,t,r)=>{"use strict";r.d(t,{Stack:()=>i,Modals:()=>s});var n=r(225155),o=r(50706),u=r(322559),a=r(608994),i=function(){function e(){var t;(0,n.default)(this,e),(0,u.default)(this,"index",0),this.history=[],this.listeners=(t=[],{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}})}return(0,o.default)(e,[{key:"pop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.history.splice(-e,e);this.index=this.history.length-1,this.listeners.call({action:"remove",payload:t}),this.lastElement&&this.listeners.call({action:"add",payload:this.lastElement})}},{key:"push",value:function(e){this.history.push(e),this.index=this.history.length-1,this.listeners.call({action:"add",payload:e})}},{key:"goBack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.index-=e}},{key:"subscribe",value:function(e){return this.listeners.push(e)}},{key:"lastElement",get:function(){return this.history[this.history.length-1]||null}},{key:"currentElement",get:function(){return this.history[this.index]||null}}]),e}();var s=(0,o.default)((function e(){var t=this;(0,n.default)(this,e),(0,u.default)(this,"createGroup",(function(){var e=(0,a.nanoid)(),r={id:e,group:[]};return t.system.groups.set(e,r),r})),(0,u.default)(this,"createModal",(function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,o=t.system.groups.get(e);if(!o)throw Error("Нет такого стека");var u=n||(0,a.nanoid)();return o.group.push({id:u}),t.system.modals.set(u,{groupId:o.id,isSubModal:r}),u})),(0,u.default)(this,"getModalGroup",(function(e){var r=t.system.groups.get(e);if(!r)throw Error("Передан Id несуществующей модалки");return r})),(0,u.default)(this,"getModalParams",(function(e){var r=t.system.modals.get(e);if(!r)throw Error("Попытка получить несуществующую модалку");return r})),this.system={modals:new Map,groups:new Map}}))},427144:(e,t,r)=>{"use strict";r.d(t,{Router:()=>s});var n=r(225155),o=r(50706),u=r(322559),a=r(526067),i=r(606972),s=function(){function e(t){var r=this;(0,n.default)(this,e),(0,u.default)(this,"addBasePath",(function(e){return r.basePath?"".concat(r.basePath).concat("/"===e?"":e):e})),(0,u.default)(this,"removeBasePath",(function(e){return r.basePath?e.replace(new RegExp("^".concat(r.basePath.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))),""):e})),(0,u.default)(this,"push",(function(e){r.history.push(r.addBasePath(a.IRouter.createPathFromRoute(e)))})),(0,u.default)(this,"back",(function(){r.history.back()})),(0,u.default)(this,"forward",(function(){r.history.forward()})),(0,u.default)(this,"replace",(function(e){r.history.replace(r.addBasePath(a.IRouter.createPathFromRoute(e)))})),(0,u.default)(this,"subscribe",(function(e){var t=r.history.listen((function(t){var n=t.location;e(a.IRouter.urlParser(r.removeBasePath("".concat(n.pathname).concat(n.search))))}));return function(){return t()}})),this.basePath=t,this.history=(0,i.createBrowserHistory)()}return(0,o.default)(e,[{key:"currentRoute",get:function(){return a.IRouter.urlParser(this.removeBasePath("".concat(this.history.location.pathname).concat(this.history.location.search)))}}]),e}()},716192:(e,t,r)=>{"use strict";r.d(t,{handler:()=>u});var n=r(837021),o=r(314432),u=function(e,t,r){var u=t.profiles,a=t.groups,i=t.conversations,s=t.mutualFriends,c=t.contacts;if((0,n.insertConvos)(r,e,i||[]),(0,n.insertPeers)(e,{apiUsers:u||[],apiGroups:a||[],apiContacts:c||[]}),s){var l=e.peers.get(o.resolveId(s.peerId));l&&o.updateMutualFriends(l,s.hint.map(o.resolveId),s.count)}return[]}},103820:(e,t,r)=>{"use strict";r.d(t,{handler:()=>w});var n=r(975066),o=r(621094),u=r(322559),a=r(467846),i=r(343883),s=r.n(i),c=r(837021),l=r(281385),p=r(341570),d=r(577268),f=r(314432),D=r(509727),y=r(980662),h=r(21705),v=r(190831),m=r(975474),g=r(583906);function C(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,u=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw u}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=function(e,t,r){if(!r)throw new Error("feature flags not passed");switch(t.type){case"EngineBatchReceived":var n=t.variant;switch(n.kind){case"FromEngine":return _(r,e,n);case"FromEngineWithMissingData":return function(e,t,r){var n=r.apiConvos,o=r.apiMessages,u=r.apiUsers,a=r.apiGroups,i=r.apiContacts,s=I(o,n);return(0,c.insertConvos)(e,t,n.map((function(e){return{conversation:e,last_message:s.messages_legacy.get(e.last_message_id)}})),{dangerouslyMerge:!0}),(0,c.insertPeers)(t,{apiUsers:u,apiGroups:a,apiContacts:i}),_(e,t,{kind:"FromEngine",next:r.skippedBatch},s)}(r,e,n);case"FromApiEngineHistory":return function(e,t,r){var n=r.next,o=r.apiMessages,u=r.apiConvos,a=r.apiUsers,i=r.apiGroups,s=r.apiContacts,l=I(o,u);return(0,c.insertConvos)(e,t,u.map((function(e){return{conversation:e,last_message:l.messages_legacy.get(e.last_message_id)}})),{dangerouslyMerge:!0}),(0,c.insertPeers)(t,{apiUsers:a,apiGroups:i,apiContacts:s},{dangerouslyOverwrite:!0}),_(e,t,{kind:"FromEngine",next:n},l)}(r,e,n);default:return(0,h.exhaustivenessCheck)(n)}case"EngineBatchReceived_TypingsTimedOut":var o=t.peerId,u=t.typingType,a=t.timestamp,i=e.typings.get(o);if(!i)return[];var s=i[u];return s?(s.updatedAt<=a&&delete i[u],0===Object.keys(i).length&&e.typings.delete(o),[]):[];case"TemporaryHackForResync":return[];default:return(0,h.exhaustivenessCheck)(t)}};function _(e,t,r,i){var c=r.next;if("Reconnecting"===c.kind)return t.status="reconnecting",[A()];if("Failure"===c.kind){t.status="resyncing";var b=t.pts;return[function(){var e=(0,a.default)(s().mark((function e(t){var r,n,o,u,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.api,o=t.engine,u=t.queue,e.next=3,n.fetch("messages.getLongPollHistory",{lp_version:o.version,credentials:1,pts:b,msgs_limit:1100,events_limit:1100,last_n:1e3},{retries:1/0});case 3:if(a=e.sent,!(b<(a.from_pts||0))){e.next=7;break}return u.disconnect(),e.abrupt("return",{type:"TemporaryHackForResync"});case 7:if(a.credentials&&a.credentials.pts){e.next=9;break}throw new Error("В ответе getLongPollHistory отсутствуют новые креды!");case 9:return e.next=11,o.connect(E(E({},a.credentials),{},{pts:a.credentials.pts}));case 11:return e.abrupt("return",{type:"EngineBatchReceived",variant:{kind:"FromApiEngineHistory",apiMessages:(null===(r=a.messages)||void 0===r?void 0:r.items)||[],apiConvos:a.conversations||[],apiUsers:a.profiles||[],apiGroups:a.groups||[],apiContacts:a.contacts||[],next:{kind:"Batch",pts:a.credentials.pts,ts:a.credentials.ts,updates:a.history||[]}}});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}if(!(void 0!==i)&&function(e,t){var r,o=C(t.updates);try{for(o.s();!(r=o.n()).done;){var u=r.value;if(l.IEngine.isIncompleteUpdate(u))return!0;switch(u[0]){case 20:case 21:var a=(0,n.default)(u,2)[1],i=f.resolveId(a);if(!e.convos.has(i))return!0;break;case 52:var s=(0,n.default)(u,3),c=s[1],d=s[2],D=f.resolveId(d),v=e.convos.get(D);if(!v)break;switch(c){case l.IEngine.ChatUpdateType.TitleChanged:case l.IEngine.ChatUpdateType.AvatarChanged:case l.IEngine.ChatUpdateType.BannerChanged:return!0;case l.IEngine.ChatUpdateType.UserJoined:case l.IEngine.ChatUpdateType.UserLeft:case l.IEngine.ChatUpdateType.UserKicked:break;case l.IEngine.ChatUpdateType.Pinned:var m=(0,n.default)(u,4)[3];if(0===m)break;var g=y.resolveCmid(m);return!v.persisted.has(g);case l.IEngine.ChatUpdateType.CallInProgressChanged:return!0;case l.IEngine.ChatUpdateType.CopyFlagChanged:case l.IEngine.ChatUpdateType.AdminGrated:case l.IEngine.ChatUpdateType.FlagsChanged:case l.IEngine.ChatUpdateType.AdminKicked:case l.IEngine.ChatUpdateType.KeyboardChanged:case l.IEngine.ChatUpdateType.MessageRequestChanged:case l.IEngine.ChatUpdateType.ContactConverted:case l.IEngine.ChatUpdateType.BusinessNotifyDataChanged:case l.IEngine.ChatUpdateType.MessageRequestCanceled:case l.IEngine.ChatUpdateType.MessageRequestRejected:case l.IEngine.ChatUpdateType.MessageRequestAccepted:case l.IEngine.ChatUpdateType.ContactJoined:case l.IEngine.ChatUpdateType.DonSubscribed:case l.IEngine.ChatUpdateType.DonUnsubscribed:case l.IEngine.ChatUpdateType.IsNewChange:case l.IEngine.ChatUpdateType.StyleChanged:break;default:}break;case 10013:var b=(0,n.default)(u,2)[1],F=f.resolveId(b);return e.convos.has(F);case 63:case 64:case 65:case 66:case 67:case 1:case 2:case 3:case 6:case 7:case 10:case 11:case 12:case 80:case 114:case 119:case 10001:case 10002:case 10003:case 10006:case 10007:break;case 4:case 10004:var E=(0,n.default)(u,9),w=E[4],_=E[7],A=E[8],S=f.resolveId(w),I=e.convos.get(S);if(!I)return!0;var P=k(I);if(O(A,P))return!0;if(_.has_template)return!0;var x=(0,p.fromEngineMessage)(u,e.viewerId,P).message;if(!e.peers.has(x.peerId)||!e.peers.has(x.authorId))return!0;switch(x.kind){case"Normal":case"Expired":break;case"Service":switch(x.action.type){case"chat_invite_user":case"chat_kick_user":case"chat_invite_user_by_call":case"chat_invite_user_by_message_request":case"chat_kick_user_call_block":if(!e.peers.has(x.action.peerId))return!0;break;case"chat_screenshot":case"chat_create":case"chat_title_update":case"chat_photo_update":case"chat_photo_remove":case"chat_pin_message":case"chat_unpin_message":case"chat_group_call_started":case"chat_invite_user_by_link":case"chat_invite_user_by_call_join_link":case"sent_message_requests_count":case"accepted_message_request":case"chat_kick_don":case"conversation_style_update":case"conversation_style_update_action":case"unknown":break;default:(0,h.exhaustivenessCheck)(x.action)}break;default:(0,h.exhaustivenessCheck)(x)}break;case 5:case 18:case 10005:case 10018:var M=(0,n.default)(u,8),j=M[3],R=M[7],U=f.resolveId(j),B=e.convos.get(U);if(!B)break;if(O(R,k(B)))return!0;break;case 19:case 10019:return!0;default:}}}catch(e){o.e(e)}finally{o.f()}return!1}(t,c))return[S(t.pts,c)];t.status="running",t.pts=c.pts;var F=c.updates.flatMap((function(e){switch(e[0]){case 1:case 2:case 3:return function(e,t){var r=(0,n.default)(t,4),o=r[0],u=r[1],a=r[2],i=r[3],s=f.resolveId(i),c=y.resolveId(u),l=e.convos.get(s);if(!l)return[];var p=D.findMessageById(l,c);if(!p)return[];return P(e,[{1:10001,2:10002,3:10003}[o],p.cmid,a,i])}(t,e);case 4:case 5:case 18:case 19:return function(e,t,r){var o,u=(0,n.default)(t,2)[1],a=null==r?void 0:r.messages_legacy.get(u);switch(t[0]){case 4:if(l.IEngine.isIncompleteUpdate(t)){if(!a)return[];var i=(0,n.default)(t,4),s=i[2],c=i[3];o=[10004,a.conversation_message_id,s,c,a.peer_id];break}var p=(0,n.default)(t,12),d=p[2],f=p[3],D=p[4],y=p[5],v=p[6],m=p[7],g=p[8],C=p[9];o=[10004,p[10],d,f,D,y,v,m,g,C,u,p[11]];break;case 5:if(l.IEngine.isIncompleteUpdate(t)){if(!a)return[];var b=(0,n.default)(t,3)[2];o=[10005,a.conversation_message_id,b,a.peer_id];break}var F=(0,n.default)(t,11),E=F[2],w=F[3],_=F[4],A=F[5],S=F[6],I=F[7],k=F[8];o=[10005,F[9],E,w,_,A,S,I,k,u,F[10]];break;case 18:if(l.IEngine.isIncompleteUpdate(t)){if(!a)return[];var O=(0,n.default)(t,3)[2];o=[10018,a.conversation_message_id,O,a.peer_id];break}var P=(0,n.default)(t,11),M=P[2],j=P[3],R=P[4],U=P[5],B=P[6],T=P[7],N=P[8];o=[10018,P[9],M,j,R,U,B,T,N,u,P[10]];break;case 19:if(!a)return[];o=[10019,a.conversation_message_id,a.peer_id];break;default:(0,h.exhaustivenessCheck)(t)}return x(e,o,r)}(t,e,i);case 6:case 7:return function(e,t,r){var o,u=(0,n.default)(t,2),a=u[0],i=u[1],s=f.resolveId(i),c=e.convos.get(s);if(!c)return[];var l=null==r?void 0:r.convos.get(i),p=l&&(null===(o=(0,m.fromApiConvo)(l))||void 0===o?void 0:o.convo);if(!p)return[];return 6===a?D.readInUntil(c,p.inReadBy,p.unreadCount):D.readOutUntil(c,p.outReadBy),d.refresh(e.folders,c),[]}(t,e,i);case 10:case 11:case 12:return function(e,t){var r=(0,n.default)(t,3),o=r[0],u=r[1],a=r[2],i=f.resolveId(u),s=e.convos.get(i);if(!s)return[];var c={10:"unset",11:"replace",12:"set"}[o];return D.updateFlags(s,c,a),d.refresh(e.folders,s),[]}(t,e);case 20:return function(e,t){var r=(0,n.default)(t,3),o=r[1],u=r[2],a=f.resolveId(o),i=e.convos.get(a);if(!i)return[];return D.updateSortId(i,{majorSortId:u}),d.refresh(e.folders,i),[]}(t,e);case 21:return function(e,t){var r=(0,n.default)(t,3),o=r[1],u=r[2],a=f.resolveId(o),i=e.convos.get(a);if(!i)return[];return D.updateSortId(i,{minorSortId:u}),d.refresh(e.folders,i),[]}(t,e);case 52:return function(e,t,r){var o=(0,n.default)(t,4),u=o[1],a=o[2],i=o[3],s=f.resolveId(a),c=e.convos.get(s);if(!c)return[];var p=null==r?void 0:r.convos.get(a),v=p&&(0,m.fromApiConvo)(p);switch(u){case l.IEngine.ChatUpdateType.CopyFlagChanged:case l.IEngine.ChatUpdateType.TitleChanged:case l.IEngine.ChatUpdateType.AvatarChanged:case l.IEngine.ChatUpdateType.FlagsChanged:return[];case l.IEngine.ChatUpdateType.Pinned:if("ChatConvo"!==c.kind)return[];var g=i,C=y.resolveCmid(g);if(e.hiddenPinnedMessages.delete(s),(null==v?void 0:v.convo.kind)===c.kind)return v.convo.pinnedMessage&&D.pinMessage(c,v.convo.pinnedMessage),[];if(0===C)D.unpinMessage(c);else{var b=c.persisted.get(C);"Normal"===(null==b?void 0:b.kind)&&D.pinMessage(c,y.toPinned(b))}return[];case l.IEngine.ChatUpdateType.UserJoined:if("ChatConvo"!==c.kind)return[];var F=f.resolveId(i);if(!f.isUserPeerId(F)&&!f.isGroupPeerId(F))break;D.addMember(c,F);break;case l.IEngine.ChatUpdateType.UserLeft:case l.IEngine.ChatUpdateType.UserKicked:if("ChatConvo"!==c.kind)return[];var E=f.resolveId(i);if(!f.isUserPeerId(E)&&!f.isGroupPeerId(E))break;D.removeMember(c,E);break;case l.IEngine.ChatUpdateType.KeyboardChanged:return[];case l.IEngine.ChatUpdateType.CallInProgressChanged:return"ChatConvo"===c.kind&&(null==v?void 0:v.convo.kind)===c.kind&&D.updateActiveCall(c,v.convo.activeCall),[];case l.IEngine.ChatUpdateType.IsNewChange:return D.updateIsNew(c,!!i),[];case l.IEngine.ChatUpdateType.MessageRequestChanged:var w=i,_=e.folders.messageRequest.unreadCount;switch(w){case l.IEngine.MRStatus.Accepted:if("MessageRequestConvo"!==c.kind)return[];var A=D.fromAcceptedMessageRequest(c);e.convos.set(s,A),d.refresh(e.folders,A),_=e.folders.messageRequest.unreadCount-1;break;case l.IEngine.MRStatus.New:_=e.folders.messageRequest.unreadCount+1;break;case l.IEngine.MRStatus.Deleted:case l.IEngine.MRStatus.Rejected:break;default:(0,h.exhaustivenessCheck)(w)}return d.updateCounters(e.folders,{messageRequests:_}),[];case l.IEngine.ChatUpdateType.AdminGrated:case l.IEngine.ChatUpdateType.AdminKicked:case l.IEngine.ChatUpdateType.BannerChanged:case l.IEngine.ChatUpdateType.ContactConverted:case l.IEngine.ChatUpdateType.BusinessNotifyDataChanged:case l.IEngine.ChatUpdateType.MessageRequestCanceled:case l.IEngine.ChatUpdateType.MessageRequestRejected:case l.IEngine.ChatUpdateType.MessageRequestAccepted:case l.IEngine.ChatUpdateType.ContactJoined:case l.IEngine.ChatUpdateType.DonSubscribed:case l.IEngine.ChatUpdateType.DonUnsubscribed:case l.IEngine.ChatUpdateType.StyleChanged:return[];default:}return[]}(t,e,i);case 63:case 64:case 65:case 66:case 67:return function(e,t){var r=(0,n.default)(t,5),o=r[0],i=r[1],c=r[2],l=r[3],p=r[4],d=f.resolveId(i),D=new Set(c.map((function(e){return f.resolveId(e)})));if(D.delete(e.viewerId),!e.convos.get(d))return[];var y={63:"text",64:"voice",65:"photo",66:"video",67:"file"}[o],m=E(E({},e.typings.get(d)||{}),{},(0,u.default)({},y,{peerIds:D,updatedAt:p,totalCount:l}));return e.typings.set(d,m),[function(){var e=(0,a.default)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.sleep)(v.TYPING_EXPIRATION_TIME);case 2:return e.abrupt("return",{type:"EngineBatchReceived_TypingsTimedOut",peerId:d,typingType:y,timestamp:p});case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()]}(t,e);case 80:return function(e,t){var r=(0,n.default)(t,10),o=r[1],u=r[7],a=r[9];return d.updateCounters(e.folders,{unread:o,archive:u,archiveMentions:a}),[]}(t,e);case 114:return function(e,t){var r=(0,n.default)(t,2)[1].peer_id,o=f.resolveId(r),u=e.convos.get(o);if(!u)return[];var a=(0,m.fromLongpollPushSettings)(t);return D.updatePush(u,a),[]}(t,e);case 119:return function(e,t){var r=(0,n.default)(t,2)[1],o=f.resolveId(r.peer_id),u=f.resolveId(r.owner_id),i=e.convos.get(o),c=e.peers.get(o),l=e.peers.get(u),p=i&&c&&l?(0,g.fromApiMessageEvent)(c,l,r):void 0;return[function(){var e=(0,a.default)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p&&t.botKeyboard.update(p),e.abrupt("return",{type:"Noop"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}(t,e);case 10001:case 10002:case 10003:return P(t,e);case 10004:case 10005:case 10018:case 10019:return x(t,e,i);case 10006:case 10007:return function(e,t){var r=(0,n.default)(t,4),o=r[0],u=r[1],a=r[2],i=r[3],s=f.resolveId(u),c=y.resolveCmid(a),l=e.convos.get(s);if(!l)return[];return 10006===o?D.readInUntil(l,c,i):D.readOutUntil(l,c),d.refresh(e.folders,l),[]}(t,e);case 10013:return function(e,t,r){var o=(0,n.default)(t,3),u=o[1],i=o[2],c=f.resolveId(u),l=y.resolveCmid(i),p=e.convos.get(c);if(!p)return[];if(p.persistedCmid!==l)return[];var D=null==r?void 0:r.convos.get(u),h=D&&(0,m.fromApiConvo)(D);if(!h)return[function(){var e=(0,a.default)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.logger.error("[EngineBatchReceived]",new Error("В ".concat(t[0]," отсутствует дозагруженная беседа"))),e.abrupt("return",{type:"Noop"});case 3:case"end":return e.stop()}}),e)})));function r(t){return e.apply(this,arguments)}return r}()];e.convos.set(h.convo.peerId,h.convo),h.peer&&e.peers.set(h.peer.id,h.peer);return d.refresh(e.folders,p),[]}(t,e,i);default:return[]}}));return[A()].concat((0,o.default)(F))}function A(){return function(){var e=(0,a.default)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.engine,e.next=3,r.poll();case 3:return e.t0=e.sent,e.t1={kind:"FromEngine",next:e.t0},e.abrupt("return",{type:"EngineBatchReceived",variant:e.t1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function S(e,t){return function(){var r=(0,a.default)(s().mark((function r(n){var o,u,a,i;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u=n.api,a=n.engine,n.logger,r.next=3,u.fetch("messages.getLongPollHistory",{pts:e,lp_version:a.version},{retries:1/0});case 3:return i=r.sent,r.abrupt("return",{type:"EngineBatchReceived",variant:{kind:"FromEngineWithMissingData",apiConvos:i.conversations||[],apiMessages:(null===(o=i.messages)||void 0===o?void 0:o.items)||[],apiUsers:i.profiles||[],apiGroups:i.groups||[],skippedBatch:t,apiContacts:i.contacts||[]}});case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}function I(e,t){var r,n=new Map,o=C(e);try{for(o.s();!(r=o.n()).done;){var u=r.value,a=n.get(u.peer_id);a||(a=new Map,n.set(u.peer_id,a)),a.set(u.conversation_message_id,u)}}catch(e){o.e(e)}finally{o.f()}return{messages_legacy:new Map(e.map((function(e){return[e.id,e]}))),messagesByPeerId:n,convos:new Map(t.map((function(e){return[e.peer.id,e]})))}}function k(e){return function(t){var r=e.persisted.get(t);return"Normal"===(null==r?void 0:r.kind)?r:void 0}}function O(e,t){if("string"==typeof e.attach1_type)return"sticker"!==e.attach1_type&&("audiomsg"!==e.attach1_kind||"doc"!==e.attach1_type);if(void 0!==e.geo)return!0;if(void 0!==e.fwd&&void 0===e.reply)return!0;if(void 0!==e.reply){var r=JSON.parse(e.reply);if(!t(y.resolveCmid(r.conversation_message_id)))return!0}return!1}function P(e,t){var r=(0,n.default)(t,4),o=r[0],u=r[1],a=r[2],i=r[3],s=y.resolveCmid(u),c=f.resolveId(i),l=e.convos.get(c);if(!l)return[];var p={10001:"replace",10002:"set",10003:"unset"}[o],d=l.persisted.get(s);return d?(D.updateMessageFlags(l,d.cmid,p,a),[]):[]}function x(e,t,r){var o,u,a=(0,n.default)(t,2)[1];switch(t[0]){case 10004:u=t[4];break;case 10005:case 10018:u=t[3];break;case 10019:u=t[2];break;default:(0,h.exhaustivenessCheck)(t)}var i=f.resolveId(u),s=e.convos.get(i);if(!s)return[];var y,v,m,g=null==r||null===(o=r.messagesByPeerId.get(u))||void 0===o?void 0:o.get(a);if(g){var b=(0,p.fromApiMessage)(g);y=b.message,v=b.mentions}else{if(l.IEngine.isIncompleteUpdate(t)||10019===t[0])return[];var F=(0,p.fromEngineMessage)(t,e.viewerId,k(s));y=F.message,v=F.mentions,m=F.keyboardEvent}switch(t[0]){case 10004:var E=e.typings.get(s.peerId);if(E){var w,_=C(c.TypingVariants);try{for(_.s();!(w=_.n()).done;){var A=w.value,S=E[A];S&&S.peerIds.has(y.authorId)&&(S.peerIds.delete(y.authorId),S.totalCount--,0===S.totalCount&&delete E[A],0===Object.keys(E).length&&e.typings.delete(s.peerId))}}catch(e){_.e(e)}finally{_.f()}}var I=t[3];return"ChatConvo"===s.kind?D.appendMessage(s,y,I,v.hasDirect||v.hasMass,m):D.appendMessage(s,y,I,!1,m),d.refresh(e.folders,s),e.locks.convosCleanup.has(s.peerId)||D.cleanup(s),[];case 10005:case 10018:case 10019:return D.replaceMessage(s,y,v.hasDirect||v.hasMass),[];default:return(0,h.exhaustivenessCheck)(t)}}},581738:(e,t,r)=>{"use strict";r.d(t,{handler:()=>s});var n=r(467846),o=r(343883),u=r.n(o),a=r(21705),i=r(837021),s=function(e,t){switch(t.type){case"LoadContactList":return e.locks.contactList?[]:(e.locks.contactList=!0,[function(){var e=(0,n.default)(u().mark((function e(r){var n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.api,e.prev=1,e.next=4,n.fetch("account.getContactList",{extended:1,offset:t.offset},{retries:1});case 4:return o=e.sent,e.abrupt("return",{type:"LoadContactList_RequestCompleted",hasFailed:1!==o,contacts:o.contacts||[]});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"LoadContactList_RequestCompleted",hasFailed:!0,contacts:[]});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()]);case"LoadContactList_RequestCompleted":return e.locks.contactList=!1,(0,i.insertContacts)(e,t.contacts),[];default:(0,a.exhaustivenessCheck)(t)}}},338779:(e,t,r)=>{"use strict";r.d(t,{handler:()=>l});var n=r(467846),o=r(343883),u=r.n(o),a=r(837021),i=r(190831),s=r(577268),c=r(21705),l=function(e,t,r){switch(t.type){case"MoreConvosNeeded":var o=t.folder;if(e.locks.getConversations[o]||!e.folders[o].hasMore)return[];e.locks.getConversations[o]=!0;var l=e.folders[o].peerIds.size;return[function(){var e=(0,n.default)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.getConversations",{count:i.CONVOS_PER_PAGE,offset:l,filter:s.snakeCaseId(o)});case 4:return e.t0=e.sent,e.t1=o,e.abrupt("return",{type:"MoreConvosNeeded_RequestCompleted",response:e.t0,folder:e.t1});case 9:return e.prev=9,e.t2=e.catch(1),e.abrupt("return",{type:"Noop"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()];case"MoreConvosNeeded_RequestCompleted":var p=t.response,d=t.folder;e.locks.getConversations[d]=!1;var f=(0,a.insertConvos)(r,e,p.items,{dangerouslyMerge:!0});return s.push(e.folders,d,f,p.count),(0,a.insertPeers)(e,{apiUsers:p.profiles||[],apiGroups:p.groups||[],apiContacts:p.contacts||[]}),[];default:(0,c.exhaustivenessCheck)(t)}}},135738:(e,t,r)=>{"use strict";r.d(t,{handler:()=>f});var n=r(322559),o=r(467846),u=r(343883),a=r.n(u),i=r(314432),s=r(604850);function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,u=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw u}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e,t){var r=t.next;if("Reconnecting"===r.kind)return[function(){var e=(0,o.default)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.queue,e.next=3,r.poll();case 3:return e.t0=e.sent,e.abrupt("return",{type:"QueueBatchReceived",next:e.t0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()];if("Disconnected"===r.kind){if("manual"===r.reason)return[];var n=e.viewerId;return[function(){var e=(0,o.default)(a().mark((function e(t){var r,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.queue,o=t.api,e.next=3,o.fetch("queue.subscribe",{queue_ids:"onlfriends_".concat(n)},{retries:1/0});case 3:return u=e.sent,r.connect(d({user_id:n},u)),e.next=7,r.poll();case 7:return e.t0=e.sent,e.abrupt("return",{type:"QueueBatchReceived",next:e.t0});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}var u,l=c(r.events);try{for(l.s();!(u=l.n()).done;){var p=u.value;switch(p.entity_type){case"online":var f=i.resolveId(p.data.user_id);if(!i.isUserPeerId(f))break;p.data.online?e.onlines.add(f):e.onlines.delete(f);var D=e.peers.get(f);if(!D||"User"!==D.kind)break;i.updateLastSeen(D,1e3*p.data.last_seen,(0,s.convertPlatform)(p.data.platform,p.data.app_id));break;default:p.entity_type}}}catch(e){l.e(e)}finally{l.f()}return[function(){var e=(0,o.default)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.queue,e.next=3,r.poll();case 3:return e.t0=e.sent,e.abrupt("return",{type:"QueueBatchReceived",next:e.t0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}},249539:(e,t,r)=>{"use strict";r.d(t,{handler:()=>c});var n=r(467846),o=r(343883),u=r.n(o),a=r(21705),i=r(314432),s=r(509727),c=function(e,t){var r=t.type;switch(r){case"UserChangedChatSettings":var o=t.peerId,c=t.isService,l=t.permissions,p=i.toRealId(o);return[function(){var e=(0,n.default)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.editChat",{chat_id:p,is_service:c?1:0,permissions:JSON.stringify(l)},{retries:1});case 4:return n=e.sent,e.abrupt("return",{type:"UserChangedChatSettings_RequestCompleted",hasFailed:1!==n,permissions:l,peerId:o,isService:c});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserChangedChatSettings_RequestCompleted",hasFailed:!0,permissions:l,peerId:o,isService:c});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserChangedChatSettings_RequestCompleted":var d=t.peerId,f=t.isService,D=t.permissions;if(t.hasFailed)return[];var y=e.convos.get(d);return y&&"ChatConvo"===y.kind?(s.setChatPermissions(y,D,f),[]):[];default:(0,a.exhaustivenessCheck)(r)}}},117215:(e,t,r)=>{"use strict";r.d(t,{handler:()=>D});var n=r(621094),o=r(467846),u=r(343883),a=r.n(u),i=r(509727),s=r(577268),c=r(980662),l=r(21705),p=r(818172),d={mute:"mute",unmute:"mute",pin:"pin",unpin:"pin",mark_read:"mark_read",mark_unread:"mark_read",archive:"archive",unarchive:"archive",clear:"clear",leave:"leave",show_pinned_message:"show_pinned_message",hide_pinned_message:"show_pinned_message",pin_message_for_all:"pin_message_for_all",unpin_message_for_all:"pin_message_for_all"},f={mute:"unmute",unmute:"mute",pin:"unpin",unpin:"pin",mark_read:"mark_unread",mark_unread:"mark_read",archive:"unarchive",unarchive:"archive",show_pinned_message:"hide_pinned_message",hide_pinned_message:"show_pinned_message"},D=function e(t,r,u){switch(r.type){case"UserChangedConvo":var d=r.peerId,D=r.userAction,h=t.viewerId,v=t.folders,m=y(r.userAction,d);if(t.locks.convoActions.has(m))return[];var g,C=t.convos.get(d);if(!C)return[];switch(D){case"mute":case"unmute":C.push.mode="mute"===D?"nothing":"everything",C.push.disabledUntil="mute"===D?1/0:0,g=function(){var e=(0,o.default)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.fetch("account.setSilenceMode",{time:"mute"===D?-1:0,peer_id:d,sound:"mute"===D?0:1}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();break;case"pin":g=function(e){return e.fetch("messages.pinConversation",{peer_id:d})};break;case"unpin":g=function(e){return e.fetch("messages.unpinConversation",{peer_id:d})};break;case"mark_read":C.isMarkedUnread=!1,g=function(e){return e.fetch("messages.markAsRead",{peer_id:d,mark_conversation_as_read:1})};break;case"mark_unread":C.isMarkedUnread=!0,g=function(e){return e.fetch("messages.markAsUnreadConversation",{peer_id:d,group_id:0})};break;case"archive":case"unarchive":C.isArchived="archive"===D,s.refresh(v,C),g=function(e){return e.fetch("archive"===D?"messages.archiveConversation":"messages.unarchiveConversation",{peer_id:d})};break;case"hide_pinned_message":"ChatConvo"===C.kind&&C.pinnedMessage&&t.hiddenPinnedMessages.set(r.peerId,C.pinnedMessage.cmid);break;case"show_pinned_message":t.hiddenPinnedMessages.delete(r.peerId);break;case"clear":g=function(e){return e.fetch("messages.deleteConversation",{peer_id:d}).then((function(e){var t=e.last_deleted_id;return Boolean(t)}))};break;case"leave":g=function(e){return e.fetch("messages.removeChatUser",{chat_id:d-2e9,user_id:h})};break;default:(0,l.exhaustivenessCheck)(D)}return[function(){var e=(0,o.default)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.api,e.prev=1,n=!1,!g){e.next=9;break}return e.t0=Boolean,e.next=7,g(r);case 7:e.t1=e.sent,n=!(0,e.t0)(e.t1);case 9:return e.abrupt("return",{type:"UserChangedConvo_RequestCompleted",hasFailed:n,userAction:D,peerId:d});case 12:return e.prev=12,e.t2=e.catch(1),e.abrupt("return",{type:"UserChangedConvo_RequestCompleted",hasFailed:!0,userAction:D,peerId:d});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()];case"UserChangedConvo_RequestCompleted":var b=r.peerId,F=r.userAction,E=r.hasFailed,w=y(F,b);t.locks.convoActions.delete(w);var _=f[F];if(E&&_)return e(t,{type:"UserChangedConvo",userAction:_,peerId:b},u),[];if(E)return[];switch(F){case"leave":case"clear":case"mute":case"unmute":case"pin":case"unpin":case"mark_read":case"mark_unread":case"unarchive":case"show_pinned_message":case"hide_pinned_message":return[];case"archive":var A=t.convos.get(b);if(!A||"ChatConvo"!==A.kind||!A.unreadMentions.size)return[];var S=c.resolveCmid(Math.max.apply(Math,(0,n.default)(A.unreadMentions)));return[function(){var e=(0,o.default)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.storage,(n=r.get("archive-mentions-map"))&&S){e.next=4;break}return e.abrupt("return",{type:"Noop"});case 4:return n[A.peerId]=S,r.set("archive-mentions-map",n),e.abrupt("return",{type:"Noop"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()];default:(0,l.exhaustivenessCheck)(r)}case"UserPinMessage":var I=r.peerId,k=r.cmid,O=r.userAction,P=y(r.userAction,I);if(t.locks.convoActions.has(P))return[];var x=t.convos.get(I);if(!x||"ChatConvo"!==x.kind)return[];var M=x.pinnedMessage&&(0,p.current)(x.pinnedMessage),j=x.persisted.get(k);return"Normal"===(null==j?void 0:j.kind)&&i.pinMessage(x,c.toPinned(j)),[function(){var e=(0,o.default)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.pin",{peer_id:I,conversation_message_id:k});case 4:return e.abrupt("return",{type:"UserPinMessage_RequestCompleted",hasFailed:!1,userAction:O,peerId:I,cmid:k});case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{type:"UserPinMessage_RequestCompleted",hasFailed:!0,userAction:O,pinnedMessage:M,peerId:I,cmid:k});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()];case"UserPinMessage_RequestCompleted":var R=r.peerId,U=r.hasFailed,B=r.pinnedMessage,T=y(r.userAction,R);t.locks.convoActions.delete(T);var N=t.convos.get(R);return N&&"ChatConvo"===N.kind?(U&&(i.unpinMessage(N),B&&i.pinMessage(N,B)),[]):[];case"UserUnpinMessage":var q=r.peerId,z=r.userAction,G=y(r.userAction,q);if(t.locks.convoActions.has(G))return[];var H=t.convos.get(q);if(!H||"ChatConvo"!==H.kind)return[];var L=(0,p.current)(i.unpinMessage(H));return[function(){var e=(0,o.default)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.unpin",{peer_id:q});case 4:return e.abrupt("return",{type:"UserUnpinMessage_RequestCompleted",hasFailed:!1,userAction:z,peerId:q});case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{type:"UserUnpinMessage_RequestCompleted",hasFailed:!0,userAction:z,prevPinnedMessage:L,peerId:q});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()];case"UserUnpinMessage_RequestCompleted":var W=r.peerId,V=r.hasFailed,$=r.prevPinnedMessage,K=y(r.userAction,W);t.locks.convoActions.delete(K);var J=t.convos.get(W);return J&&"ChatConvo"===J.kind?(V&&$&&i.pinMessage(J,$),[]):[];default:(0,l.exhaustivenessCheck)(r)}},y=function(e,t){return"".concat(d[e],"-").concat(t.toString())}},154808:(e,t,r)=>{"use strict";r.d(t,{handler:()=>s});var n=r(467846),o=r(343883),u=r.n(o),a=r(314432),i=r(21705),s=function(e,t){switch(t.type){case"UserChangedFriendship":var r=e.peers.get(t.userId);if("User"!==(null==r?void 0:r.kind)||e.locks.updateFriendshipOrMembership.has(r.id))return[];var o=r.friendship;return a.updateFriendship(r,t.change),o===r.friendship?[]:(e.locks.updateFriendshipOrMembership.add(r.id),[function(){var e=(0,n.default)(u().mark((function e(r){var n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.api,o=!1,e.prev=2,e.next=5,n.fetch("friends.".concat(t.change),{user_id:t.userId});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),o=!0;case 10:return e.abrupt("return",{type:"UserChangedFriendship_RequestCompleted",userId:t.userId,change:t.change,hasFailed:o});case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()]);case"UserChangedFriendship_RequestCompleted":e.locks.updateFriendshipOrMembership.delete(t.userId);var s=e.peers.get(t.userId);return"User"!==(null==s?void 0:s.kind)||t.hasFailed&&a.updateFriendship(s,{add:"delete",delete:"add"}[t.change]),[];default:return(0,i.exhaustivenessCheck)(t)}}},387079:(e,t,r)=>{"use strict";r.d(t,{handler:()=>s});var n=r(467846),o=r(343883),u=r.n(o),a=r(314432),i=r(21705),s=function(e,t){switch(t.type){case"UserChangedGroupMembership":var r=e.peers.get(t.groupId);if("Group"!==(null==r?void 0:r.kind)||e.locks.updateFriendshipOrMembership.has(r.id))return[];var o=r.membership;return a.updateMembership(r,t.change),o===r.membership?[]:(e.locks.updateFriendshipOrMembership.add(r.id),[function(){var e=(0,n.default)(u().mark((function e(r){var n,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.api,o="groups.".concat(t.change),a=!1,e.prev=3,e.next=6,n.fetch(o,{group_id:-t.groupId});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),a=!0;case 11:return e.abrupt("return",{type:"UserChangedGroupMembership_RequestCompleted",groupId:t.groupId,change:t.change,hasFailed:a});case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()]);case"UserChangedGroupMembership_RequestCompleted":e.locks.updateFriendshipOrMembership.delete(t.groupId);var s=e.peers.get(t.groupId);return"Group"!==(null==s?void 0:s.kind)||t.hasFailed&&a.updateMembership(s,{join:"leave",leave:"join"}[t.change]),[];default:return(0,i.exhaustivenessCheck)(t)}}},217698:(e,t,r)=>{"use strict";r.d(t,{handler:()=>s});var n=r(467846),o=r(343883),u=r.n(o),a=r(21705),i=r(215284),s=function(e,t){var r=t.type;switch(r){case"UserChangedSetting":var o=t.setting;e.locks.settings.add(o);var i=e.userSettings[t.setting];return e.userSettings[t.setting]=t.value,[function(){var e=(0,n.default)(u().mark((function e(r){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(r,t.setting,t.value);case 3:return n=e.sent,"transcriptAutoShow"===t.setting&&1===n&&r.stats.logEvent("type_action",{type:"type_settings_changes_item",type_settings_changes_item:{type:"general",name:"voice_transcription_autoshow",value_old:String(Number(i)),value_new:String(Number(t.value)),screen:"im_web_settings"}}),e.abrupt("return",{type:"UserChangedSetting_RequestCompleted",hasFailed:1!==n,setting:t.setting,previousValue:i});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{type:"UserChangedSetting_RequestCompleted",hasFailed:!0,setting:t.setting,previousValue:i});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserChangedSetting_RequestCompleted":var s=t.setting;return e.locks.settings.delete(s),t.hasFailed&&(e.userSettings[t.setting]=t.previousValue),[];default:(0,a.exhaustivenessCheck)(r)}};function c(e,t,r){var n=e.api,o=e.storage;switch(t){case"ctrSubmit":var u=i.Api.resolveTrackId("account.setInfo","messages_multiline_input");return n.dangerouslyAbort(u),n.fetch("account.setInfo",{name:"messages_multiline_input",value:String(Number(r))},{trackId:u});case"soundNotifications":return o.set("settings-sound-notifications-on",r),Promise.resolve(1);case"showRecommendations":var s=i.Api.resolveTrackId("account.setInfo","messages_recommendation_list_hidden");return n.dangerouslyAbort(s),n.fetch("account.setInfo",{name:"messages_recommendation_list_hidden",value:String(Number(!r))},{trackId:s});case"countOnlyNotMuted":var c=i.Api.resolveTrackId("account.setInfo","show_only_not_muted_messages");return n.dangerouslyAbort(c),n.fetch("account.setInfo",{name:"show_only_not_muted_messages",value:String(Number(r))},{trackId:c});case"autoUnarchive":var l=i.Api.resolveTrackId("account.setInfo","messages_auto_unarchive");return n.dangerouslyAbort(l),n.fetch("account.setInfo",{name:"messages_auto_unarchive",value:String(Number(r))},{trackId:l});case"transcriptAutoShow":var p=i.Api.resolveTrackId("account.setInfo","messages_transcript_auto_show");return n.dangerouslyAbort(p),n.fetch("account.setInfo",{name:"messages_transcript_auto_show",value:String(Number(r))},{trackId:p});default:(0,a.exhaustivenessCheck)(t)}}},846967:(e,t,r)=>{"use strict";r.d(t,{handler:()=>y});var n=r(322559),o=r(621094),u=r(467846),a=r(343883),i=r.n(a),s=r(21705),c=r(975474),l=r(818172),p=r(980662),d=r(314432);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e,t){switch(t.type){case"UserHideFolder":if("archive"===t.kind){var r=(0,l.current)(e),a=r.folders,f=r.convos;return a.archive.hasMore&&(e.locks.hideFolder.archive=!0),[function(){var e=(0,u.default)(i().mark((function e(t){var r,u,s,l,d,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.storage,u=t.api,!a.archive.hasMore){e.next=9;break}return e.next=4,u.fetch("messages.getConversations",{filter:"archive",count:a.archive.totalCount});case 4:l=e.sent,d=l.items,s=d.reduce((function(e,t){var r,n=t.conversation,u=null===(r=(0,c.fromApiConvo)(n))||void 0===r?void 0:r.convo;return u?[].concat((0,o.default)(e),[u]):e}),[]),e.next=10;break;case 9:s=(0,o.default)(f.values());case 10:return y=s.reduce((function(e,t){if("ChatConvo"!==t.kind||!t.unreadMentions.size)return e;var r=p.resolveCmid(Math.max.apply(Math,(0,o.default)(t.unreadMentions)));return D(D({},e),{},(0,n.default)({},t.peerId,r))}),{}),r.set("archive-manually-hidden",!0),r.set("archive-mentions-map",D(D({},r.get("archive-mentions-map")||{}),y)),e.abrupt("return",{type:"UserHideFolder_Completed",kind:"archive"});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}return"all"===t.kind||"unread"===t.kind||"messageRequest"===t.kind?[]:(0,s.exhaustivenessCheck)(t.kind);case"UserHideFolder_Completed":return"archive"===t.kind?(e.locks.hideFolder.archive=!1,e.folders.archive.isHidden=!0,[]):"all"===t.kind||"unread"===t.kind||"messageRequest"===t.kind?[]:(0,s.exhaustivenessCheck)(t.kind);case"UserUndoHideFolder":return"archive"===t.kind?(e.folders.archive.isHidden=!1,[function(){var e=(0,u.default)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.storage.set("archive-manually-hidden",!1),e.abrupt("return",{type:"Noop"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]):"all"===t.kind||"unread"===t.kind||"messageRequest"===t.kind?[]:(0,s.exhaustivenessCheck)(t.kind);case"UserActualizeHideFolder":if("archive"===t.kind){var y={};e.convos.forEach((function(e){"ChatConvo"===e.kind&&e.unreadMentions.size>0&&(y[e.peerId]=p.resolveCmid(Math.max.apply(Math,(0,o.default)(e.unreadMentions))))}));var h=e.folders.archive.isHidden;return[function(){var e=(0,u.default)(i().mark((function e(t){var r,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.storage,!(n=r.get("archive-manually-hidden"))||h){e.next=4;break}return e.abrupt("return",{type:"UserHideFolder",kind:"archive"});case 4:if(n||!h){e.next=6;break}return e.abrupt("return",{type:"UserUndoHideFolder",kind:"archive"});case 6:if(Object.keys(y).length){e.next=8;break}return e.abrupt("return",{type:"Noop"});case 8:if(o=r.get("archive-mentions-map")||{},!Object.keys(y).every((function(e){return y[d.resolveId(Number(e))]===o[d.resolveId(Number(e))]}))){e.next=11;break}return e.abrupt("return",{type:"Noop"});case 11:return r.set("archive-mentions-map",D(D({},o),y)),e.abrupt("return",{type:"UserUndoHideFolder",kind:"archive"});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}return"all"===t.kind||"unread"===t.kind||"messageRequest"===t.kind?[]:(0,s.exhaustivenessCheck)(t.kind);default:(0,s.exhaustivenessCheck)(t)}}},751713:(e,t,r)=>{"use strict";r.d(t,{handler:()=>s});var n=r(467846),o=r(343883),u=r.n(o),a=r(21705),i=r(151225),s=function(e,t){switch(t.type){case"UserHitEdit":var r=t.cmid,o=t.text,s=t.attaches,c=t.peerId;if(!e.convos.get(c))return[];e.locks.edit.add(c);var l=i.ids(s).join(",");return[function(){var e=(0,n.default)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.api,a=!1,e.prev=2,e.next=5,n.fetch("messages.edit",{peer_id:c,conversation_message_id:r,message:o,attachment:0===l.length?void 0:l});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),a=!0;case 10:return e.abrupt("return",{type:"UserHitEdit_RequestCompleted",cmid:r,peerId:c,hasFailed:a});case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()];case"UserHitEdit_RequestCompleted":var p=t.peerId;t.hasFailed;e.locks.edit.delete(p);e.convos.get(p);return[];default:return(0,a.exhaustivenessCheck)(t)}}},362156:(e,t,r)=>{"use strict";r.d(t,{handler:()=>D});var n=r(322559),o=r(467846),u=r(343883),a=r.n(u),i=r(818172),s=r(21705),c=r(980662),l=r(509727),p=r(151225);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=function(e,t){switch(t.type){case"UserHitSend":var r=t.text,n=t.attaches,o=t.timestamp,u=t.peerId,a=t.expireTTL,d=t.entrypoint,f=t.extra,D=e.convos.get(u);if(!D)return[];var h=c.newQueued({peerId:u,text:r,isOut:!0,sentAt:o,authorId:e.viewerId,attaches:n,expireTTL:a,extra:f});return l.appendQueuedMessage(D,h),e.locks.send.has(D.peerId)?[]:(e.locks.send.add(D.peerId),[y(u,h.randomId,r,p.ids(n),h.extra,d,n.geo)]);case"UserHitSend_RequestCompleted":var v=t.peerId,m=t.randomId,g=t.hasFailed,C=t.entrypoint;e.locks.send.delete(v);var b=e.convos.get(v);if(!b)return[];g&&l.updateSendingFail(b,m,g);var F=l.newerQueued(b,m),E=F&&(0,i.original)(F);return E?(e.locks.send.add(v),[y(v,E.randomId,E.text,p.ids(E.attaches),E.extra,C,E.attaches.geo)]):[];default:return(0,s.exhaustivenessCheck)(t)}};function y(e,t,r,n,u,i,s){return function(){var c=(0,o.default)(a().mark((function o(c){var l,p,d;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=c.api,p=!1,d={},u.sticker&&(d.sticker_id=u.sticker.id,d.sticker_referrer=u.sticker.referrer),u.botPayload&&(d.payload=u.botPayload),s&&(d.lat=s.coordinates.latitude,d.long=s.coordinates.longitude),o.prev=6,o.next=9,l.fetch("messages.send",f(f({},d),{},{peer_id:e,random_id:t,message:r,attachment:0===n.length?void 0:n.join(","),entrypoint:i}));case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(6),p=!0;case 14:return o.abrupt("return",{type:"UserHitSend_RequestCompleted",peerId:e,randomId:t,hasFailed:p,entrypoint:i});case 15:case"end":return o.stop()}}),o,null,[[6,11]])})));return function(e){return c.apply(this,arguments)}}()}},203405:(e,t,r)=>{"use strict";r.d(t,{handler:()=>s});var n=r(467846),o=r(343883),u=r.n(o),a=r(980662),i=r(21705),s=function(e,t){switch(t.type){case"UserListenedVoice":var r=t.cmid,o=t.peerId,s=e.convos.get(o),c=null==s?void 0:s.persisted.get(r);return"Normal"===(null==c?void 0:c.kind)&&a.canChangeVoiceListenedStatus(c)?[function(){var e=(0,n.default)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.api,e.prev=1,e.next=4,n.fetch("messages.markAsListened",{peer_id:o,cmid:r},{retries:1});case 4:return a=e.sent,e.abrupt("return",{type:"UserListenedVoice_RequestCompleted",hasFailed:1!==a,cmid:r,peerId:o});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserListenedVoice_RequestCompleted",hasFailed:!0,cmid:r,peerId:o});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()]:[];case"UserListenedVoice_RequestCompleted":if(!t.hasFailed){var l=t.cmid,p=t.peerId,d=e.convos.get(p),f=null==d?void 0:d.persisted.get(l);if(!f)return[];a.markVoiceListened(f)}return[];default:(0,i.exhaustivenessCheck)(t)}}},931947:(e,t,r)=>{"use strict";r.d(t,{handler:()=>y});var n=r(621094),o=r(467846),u=r(343883),a=r.n(u),i=r(837021),s=r(341570),c=r(314432),l=r(509727),p=r(577268),d=r(190831),f=r(21705),D=r(378399),y=function e(t,r,u){switch(r.type){case"UserOpenedConvo":var y=r.peerId,h=r.cmid,v=t.convos.get(y),m=t.locks.convosCleanup.get(y)||0;return t.locks.convosCleanup.set(y,m+1),v?e(t,{type:"UserOpenedConvo_ConvoRequestCompleted",peerId:y,cmid:h,hasFailed:!1},u):[function(){var e=(0,o.default)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.getConversationsById",{peer_ids:y.toString()},{retries:3});case 4:return n=e.sent,e.abrupt("return",{type:"UserOpenedConvo_ConvoRequestCompleted",peerId:y,cmid:h,hasFailed:!1,profiles:n.profiles,groups:n.groups,conversations:n.items,contacts:n.contacts});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserOpenedConvo_ConvoRequestCompleted",peerId:y,hasFailed:!0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserOpenedConvo_ConvoRequestCompleted":var g=r.peerId,C=r.conversations,b=r.profiles,F=r.cmid,E=r.groups,w=r.contacts;if(r.hasFailed){if(f.isDev)throw new Error("Не удалось загрузить диалог");return[function(){var e=(0,o.default)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.router.replace({kind:"Main"}),e.abrupt("return",{type:"Noop"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}(0,i.insertConvos)(u,t,C||[]),(0,i.insertPeers)(t,{apiUsers:b||[],apiGroups:E||[],apiContacts:w||[]});var _=t.convos.get(g);if(!_){if(f.isDev)throw new Error("Диалог не был найден");return[function(){var e=(0,o.default)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.router.replace({kind:"Main"}),e.abrupt("return",{type:"Noop"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}var A=void 0!==F,S=_.isMarkedUnread&&0===_.unreadCount;S&&l.markRead(_),p.refresh(t.folders,_);var I="ChatConvo"===_.kind&&void 0===_.members&&l.canReadMembers(_)&&!t.locks.getConversationMembers.has(g);I&&t.locks.getConversationMembers.add(g);var k=A||l.length(_).persisted<d.MESSAGES_PER_PAGE&&_.hasMore&&!t.locks.getHistory.has(_.peerId);k&&t.locks.getHistory.add(_.peerId);var O=0===t.stickers.size&&Object.values(u.me_sticker_packs).flat().length>0,P=_.unreadCount>0;return[I&&c.isChatPeerId(g)&&function(){var e=(0,o.default)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.t0=g,e.next=5,r.fetch("messages.getConversationMembers",{peer_id:g},{retries:1});case 5:return e.t1=e.sent,e.abrupt("return",{type:"UserOpenedConvo_MembersRequestCompleted",peerId:e.t0,response:e.t1});case 9:e.prev=9,e.t2=e.catch(1);case 11:return e.abrupt("return",{type:"Noop"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),O&&function(){var e=(0,o.default)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,n=Object.values(u.me_sticker_packs).flat(),e.prev=2,e.next=5,r.fetch("store.getStickers",{sticker_ids:n.join()});case 5:return e.t0=e.sent,e.abrupt("return",{type:"UserOpenedConvo_StickersRequestCompleted",response:e.t0});case 9:e.prev=9,e.t1=e.catch(2);case 11:return e.abrupt("return",{type:"Noop"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),S&&function(){var e=(0,o.default)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.markAsRead",{peer_id:g,mark_conversation_as_read:1});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.abrupt("return",{type:"Noop"});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),k&&function(){var e=(0,o.default)(a().mark((function e(t){var r,n,o,u,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.api,e.t0=!0,e.next=e.t0===A?4:e.t0===P?7:10;break;case 4:return n=d.MESSAGES_PER_PAGE,o=-(Math.floor(d.MESSAGES_PER_PAGE/2)-1),e.abrupt("break",12);case 7:return n=Math.floor(1.25*d.MESSAGES_PER_PAGE),o=-d.MESSAGES_PER_PAGE,e.abrupt("break",12);case 10:n=d.MESSAGES_PER_PAGE,o=0;case 12:return e.prev=12,e.next=15,r.fetch("messages.getHistory",{peer_id:g,start_cmid:A?F:-1,count:n,offset:o},{retries:5});case 15:return i=e.sent,s=i.conversations&&(null===(u=i.conversations[0])||void 0===u?void 0:u.unread_count)||0,e.abrupt("return",{type:"UserOpenedConvo_HistoryRequestSucceed",peerId:g,hasMore:A||n+o+s===i.items.length,response:i});case 20:return e.prev=20,e.t1=e.catch(12),e.abrupt("return",{type:"UserOpenedConvo_HistoryRequestFailed",peerId:g});case 23:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(t){return e.apply(this,arguments)}}()];case"UserClosedConvo":if((m=t.locks.convosCleanup.get(r.peerId))&&m>1)return t.locks.convosCleanup.set(r.peerId,m-1),[];t.locks.convosCleanup.delete(r.peerId);var x=t.convos.get(r.peerId);return x?(l.cleanup(x),[]):[];case"UserOpenedConvo_HistoryRequestSucceed":var M=r.peerId,j=r.response,R=r.hasMore;t.locks.getHistory.delete(M);var U=t.convos.get(M);if(!U)return[];var B=j.items.map((function(e){return(0,s.fromApiMessage)(e).message}));return l.insertMessages(U,B,R),(0,i.insertPeers)(t,{apiUsers:j.profiles||[],apiGroups:j.groups||[],apiContacts:[]}),[];case"UserOpenedConvo_HistoryRequestFailed":return t.locks.getHistory.delete(r.peerId),[];case"UserOpenedConvo_MembersRequestCompleted":var T=r.peerId,N=r.response;t.locks.getConversationMembers.delete(T);var q=t.convos.get(T);if(!q||"ChatConvo"!==q.kind)return[];var z=(0,i.insertPeers)(t,{apiUsers:N.profiles||[],apiGroups:N.groups||[],apiContacts:N.contacts||[]}),G=z.insertedUsers,H=z.insertedGroups,L=z.insertedContacts,W=new Set([].concat((0,n.default)(G.map((function(e){return e.id}))),(0,n.default)(H.map((function(e){return e.id}))),(0,n.default)(L.map((function(e){return e.userId?e.userId:e.id})))));return l.replaceMembers(q,(0,n.default)(W)),[];case"UserOpenedConvo_StickersRequestCompleted":var V=r.response,$=new Map;return V.reduce((function(e,t){var r=(0,D.fromApiSticker)(t);return r?e.set(r.id,r):e}),$),t.stickers=$,[];default:return(0,f.exhaustivenessCheck)(r)}}},823085:(e,t,r)=>{"use strict";r.d(t,{handler:()=>i});var n=r(467846),o=r(343883),u=r.n(o),a=r(21705),i=function(e,t){var r=t.type,o=t.peerId;switch(r){case"UserRejectMessageRequest":var i=e.viewerId;return[function(){var e=(0,n.default)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.rejectMessageRequest",{peer_id:o,user_id:i},{retries:1});case 4:return n=e.sent,e.abrupt("return",{type:"UserRejectMessageRequest_RequestCompleted",hasFailed:1!==n,peerId:o});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserRejectMessageRequest_RequestCompleted",hasFailed:!0,peerId:o});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserRejectMessageRequest_RequestCompleted":return[];default:(0,a.exhaustivenessCheck)(r)}}},475690:(e,t,r)=>{"use strict";r.d(t,{handler:()=>d});var n=r(621094),o=r(467846),u=r(343883),a=r.n(u),i=r(21705),s=r(190831),c=r(509727),l=r(341570),p=r(837021),d=function(e,t){switch(t.type){case"UserScrolledConvoHistory":var r=t.peerId,u=t.direction,d=e.convos.get(r);if(!d)return[];if("end"===u)return c.cleanup(d),[];if(e.locks.getHistory.has(r))return[];if("forward"===u&&!c.hasGap(d))return[];if("backward"===u&&!d.hasMore)return[];e.locks.getHistory.add(t.peerId);var f=s.MESSAGES_PER_PAGE;switch(u){case"forward":var D=d.afterGapCmid,y=-f;return[function(){var e=(0,o.default)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.api,e.prev=1,e.t0=r,e.next=5,n.fetch("messages.getHistory",{peer_id:r,start_cmid:D,count:f,offset:y},{retries:5});case 5:return e.t1=e.sent,e.abrupt("return",{type:"UserScrolledConvoHistory_RequestSucceed",peerId:e.t0,response:e.t1});case 9:return e.prev=9,e.t2=e.catch(1),e.abrupt("return",{type:"UserScrolledConvoHistory_RequestFailed",peerId:r});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()];case"backward":var h=Math.min.apply(Math,(0,n.default)(d.persisted.keys()));return[function(){var e=(0,o.default)(a().mark((function e(t){var n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.api,e.prev=1,e.next=4,n.fetch("messages.getHistory",{peer_id:r,start_cmid:h,count:f,offset:0},{retries:5});case 4:return o=e.sent,e.abrupt("return",{type:"UserScrolledConvoHistory_RequestSucceed",peerId:r,hasMore:f===o.items.length,response:o});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserScrolledConvoHistory_RequestFailed",peerId:r});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];default:return(0,i.exhaustivenessCheck)(u)}case"UserScrolledConvoHistoryToMessage":var v=t.peerId,m=t.cmid,g=e.convos.get(v);return g?c.isCmidInIterator(g,m)?[]:(e.locks.getHistory.add(t.peerId),c.cleanup(g),[function(){var e=(0,o.default)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.getHistory",{peer_id:v,start_cmid:m,count:s.MESSAGES_PER_PAGE,offset:-(Math.floor(s.MESSAGES_PER_PAGE/2)-1)},{retries:5});case 4:return n=e.sent,e.abrupt("return",{type:"UserScrolledConvoHistory_RequestSucceed",peerId:v,hasMore:!0,response:n});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserScrolledConvoHistory_RequestFailed",peerId:v});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()]):[];case"UserScrolledConvoHistory_RequestSucceed":var C=t.peerId,b=t.response,F=t.hasMore;e.locks.getHistory.delete(C);var E=e.convos.get(C);if(!E)return[];var w=b.items.map((function(e){return(0,l.fromApiMessage)(e).message}));return c.insertMessages(E,w,F),(0,p.insertPeers)(e,{apiUsers:b.profiles||[],apiGroups:b.groups||[],apiContacts:[]}),[];case"UserScrolledConvoHistory_RequestFailed":return e.locks.getHistory.delete(t.peerId),[];default:return(0,i.exhaustivenessCheck)(t)}}},143110:(e,t,r)=>{"use strict";r.d(t,{handler:()=>i});var n=r(467846),o=r(343883),u=r.n(o),a=r(21705),i=function(e,t){switch(t.type){case"UserSeenHelpHint":return e.helpHints&&delete e.helpHints[t.hintId],[function(){var e=(0,n.default)(u().mark((function e(r){var n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.api,e.prev=1,e.next=4,n.fetch("account.hideHelpHint",{hint_id:t.hintId},{retries:1});case 4:return o=e.sent,e.abrupt("return",{type:"UserSeenHelpHint_RequestCompleted",hasFailed:1!==o});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserSeenHelpHint_RequestCompleted",hasFailed:!0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserSeenHelpHint_RequestCompleted":return[];default:(0,a.exhaustivenessCheck)(t)}}},900547:(e,t,r)=>{"use strict";r.d(t,{handler:()=>c});var n=r(467846),o=r(343883),u=r.n(o),a=r(21705),i=r(509727),s=r(577268),c=function(e,t,r){switch(t.type){case"UserSeenMessage":var o=t.cmid,c=t.peerId,p=e.convos.get(c);if(!p)return[];if(o<=p.inReadBy)return[];i.readInUntil(p,o),s.refresh(e.folders,p);var d=e.readQueues.has(c);return e.readQueues.set(c,p.inReadBy),d?[]:[l(c)];case"UserSeenMessage_ThrottleTimedOut":var f=t.peerId,D=e.readQueues.get(f);return D?[function(){var e=(0,n.default)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.markAsRead",{peer_id:f,start_cmid:D,mark_conversation_as_read:1});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.abrupt("return",{type:"UserSeenMessage_RequestCompleted",peerId:f,readUntilCmid:D});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()]:[];case"UserSeenMessage_RequestCompleted":var y=t.peerId,h=t.readUntilCmid,v=e.readQueues.get(y);return v?h>=v?(e.readQueues.delete(y),[]):[l(y)]:[];default:return(0,a.exhaustivenessCheck)(t)}};function l(e){return function(){var t=(0,n.default)(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.sleep)(300);case 2:return t.abrupt("return",{type:"UserSeenMessage_ThrottleTimedOut",peerId:e});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}},227778:(e,t,r)=>{"use strict";r.d(t,{createStore:()=>c});var n=r(975066),o=r(657442),u=r(21705),a=r(577377);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,u=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw u}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.initial,s=!1,c=u.isDev&&(0,o.devTools)(),p=[],d=r(),f=(0,n.default)(d,2),D=f[0],y=f[1];c&&c.init(D);var h=function(e){return p.push(e),function(){p=p.filter((function(t){return t!==e}))}},v=function r(o){if(!s)throw new Error("Стор еще не был активирован. Нужно вызвать store.start().");var u=(0,a.reducer)(D,o,t),d=(0,n.default)(u,2),f=d[0],y=d[1];if(c&&c.send(o,f),l(r,y,e),D!==f){var h,v=i(p);try{for(v.s();!(h=v.n()).done;){(0,h.value)(f)}}catch(e){v.e(e)}finally{v.f()}}D=f};return{start:function(){s||(s=!0,l(v,y,e))},dispatch:v,subscribe:h,featureFlags:t,getState:function(){return D}}}function l(e,t,r){0!==t.length&&setTimeout((function(){var n,o=i(t);try{for(o.s();!(n=o.n()).done;){var u=n.value;"function"==typeof u&&u(r).then(e).catch((function(e){r.logger.error("Необработанная ошибка редьюсера",e)}))}}catch(e){o.e(e)}finally{o.f()}}))}},657442:(e,t,r)=>{"use strict";r.d(t,{devTools:()=>o});var n=r(231989);function o(){return void 0!==("undefined"==typeof window?"undefined":(0,n.default)(window))&&"__REDUX_DEVTOOLS_EXTENSION__"in window?window.__REDUX_DEVTOOLS_EXTENSION__.connect({serialize:{options:{map:!0,set:!0}}}):null}},577377:(e,t,r)=>{"use strict";r.d(t,{initial:()=>q,reducer:()=>z});var n=r(322559),o=r(621094),u=r(975066),a=r(467846),i=r(343883),s=r.n(i),c=r(818172),l=r(837021),p=r(21705),d=r(577268),f=r(509727),D=r(314432),y=r(980662),h=r(233600),v=r(604850),m=r(190831),g=r(362156),C=r(751713),b=r(900547),F=r(475690),E=r(931947),w=r(103820),_=r(217698),A=r(154808),S=r(387079),I=r(338779),k=r(716192),O=r(135738),P=r(203405),x=r(143110),M=r(117215),j=r(581738),R=r(823085),U=r(846967),B=r(249539);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=function(){return[{status:"running",pts:0,viewerId:D.resolveId(),folders:d.empty(),convos:new Map([[D.resolveId(),{kind:"UserConvo",peerId:D.resolveId(),unreadCount:0,majorSortId:0,minorSortId:0,inReadBy:y.resolveCmid(0),outReadBy:y.resolveCmid(0),isNew:!1,isMarkedUnread:!1,isArchived:!1,canWrite:{allowed:!1,reason:"unknown"},push:{mode:"everything",disabledUntil:0},persistedCmid:y.resolveCmid(),persisted:new Map,queuedId:y.resolveRandomId(),queued:new Map,afterGapCmid:y.resolveCmid(),unreadExpireables:new Set,hasMore:!1,entrypoint:null}]]),readQueues:new Map,peers:new Map([[D.resolveId(),{kind:"User",id:D.resolveId(),firstName:"...",firstNameGen:"...",firstNameAcc:"...",lastName:"...",lastNameGen:"...",lastNameAcc:"...",sex:"unknown",lastSeen:{isVisible:!1,platform:"other"},isVerified:!1,canCall:!0,followersCount:0,canChangeFriendship:!1,canMessage:!1,friendship:"unfamiliar",isBlacklisted:!1,isBlacklistedByMe:!1,isDeactivated:!1}]]),onlines:new Set,typings:new Map,convosSearchIndex:h.create(),locks:{getConversations:{all:!1,unread:!1,archive:!1,messageRequest:!1},hideFolder:{all:!1,unread:!1,archive:!1,messageRequest:!1},getHistory:new Set,getConversationMembers:new Set,send:new Set,edit:new Set,convosCleanup:new Map,updateFriendshipOrMembership:new Set,convoActions:new Set,settings:new Set,contactList:!1},hiddenPinnedMessages:new Map,userSettings:{ctrSubmit:!1,soundNotifications:!0,showRecommendations:!0,countOnlyNotMuted:!1,autoUnarchive:!0,transcriptAutoShow:!0},helpHints:null,stickers:new Map,contactList:new Map},[function(){return Promise.resolve({type:"InitialData"})}]]};function z(e,t,r){if("TemporaryHackForResync"===t.type)return q();var n,i=(0,c.createDraft)(e);switch(t.type){case"Noop":n=[];break;case"InitialData":case"InitialData_RequestCompleted":n=G(i,t,r);break;case"EngineBatchReceived":case"EngineBatchReceived_TypingsTimedOut":n=w.handler(i,t,r);break;case"QueueBatchReceived":n=O.handler(i,t,r);break;case"MoreConvosNeeded":case"MoreConvosNeeded_RequestCompleted":n=I.handler(i,t,r);break;case"CacheUpdateReceived":n=k.handler(i,t,r);break;case"UserScrolledConvoHistory":case"UserScrolledConvoHistoryToMessage":case"UserScrolledConvoHistory_RequestSucceed":case"UserScrolledConvoHistory_RequestFailed":n=F.handler(i,t,r);break;case"UserSeenMessage":case"UserSeenMessage_ThrottleTimedOut":case"UserSeenMessage_RequestCompleted":n=b.handler(i,t,r);break;case"UserHitSend":case"UserHitSend_RequestCompleted":n=g.handler(i,t,r);break;case"UserHitEdit":case"UserHitEdit_RequestCompleted":n=C.handler(i,t,r);break;case"UserOpenedConvo":case"UserClosedConvo":case"UserOpenedConvo_ConvoRequestCompleted":case"UserOpenedConvo_MembersRequestCompleted":case"UserOpenedConvo_StickersRequestCompleted":case"UserOpenedConvo_HistoryRequestSucceed":case"UserOpenedConvo_HistoryRequestFailed":n=E.handler(i,t,r);break;case"UserChangedFriendship":case"UserChangedFriendship_RequestCompleted":n=A.handler(i,t,r);break;case"UserChangedGroupMembership":case"UserChangedGroupMembership_RequestCompleted":n=S.handler(i,t,r);break;case"UserChangedSetting":case"UserChangedSetting_RequestCompleted":n=_.handler(i,t,r);break;case"UserListenedVoice":case"UserListenedVoice_RequestCompleted":n=P.handler(i,t,r);break;case"UserSeenHelpHint":case"UserSeenHelpHint_RequestCompleted":n=x.handler(i,t,r);break;case"UserChangedConvo":case"UserChangedConvo_RequestCompleted":case"UserPinMessage":case"UserPinMessage_RequestCompleted":case"UserUnpinMessage":case"UserUnpinMessage_RequestCompleted":n=M.handler(i,t,r);break;case"LoadContactList":case"LoadContactList_RequestCompleted":n=j.handler(i,t,r);break;case"UserHideFolder":case"UserHideFolder_Completed":case"UserUndoHideFolder":case"UserActualizeHideFolder":n=U.handler(i,t,r);break;case"UserRejectMessageRequest":case"UserRejectMessageRequest_RequestCompleted":n=R.handler(i,t,r);break;case"UserChangedChatSettings":case"UserChangedChatSettings_RequestCompleted":n=B.handler(i,t,r);break;default:(0,p.exhaustivenessCheck)(t)}i.convos.set(D.resolveId(),f.safeGet(e.convos,D.resolveId())),i.peers.set(D.resolveId(),D.safeGet(e.peers,D.resolveId()));var l=(0,c.finishDraft)(i);if(e.hiddenPinnedMessages!==l.hiddenPinnedMessages&&n.push(function(){var e=(0,a.default)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.storage.set("hidden-pinned-messages",Array.from(l.hiddenPinnedMessages.entries()).reduce((function(e,t){var r=(0,u.default)(t,2),n=r[0],o=r[1];return e[n]=o,e}),{})),e.abrupt("return",{type:"Noop"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l.folders.archive.isHidden&&"Noop"!==t.type&&"UserUndoHideFolder"!==t.type&&"visible"===document.visibilityState){var d={};l.convos.forEach((function(e){"ChatConvo"===e.kind&&e.unreadMentions.size>0&&(d[e.peerId]=y.resolveCmid(Math.max.apply(Math,(0,o.default)(e.unreadMentions))))})),n.push(function(){var e=(0,a.default)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.storage,Object.keys(d).length){e.next=3;break}return e.abrupt("return",{type:"Noop"});case 3:if(n=r.get("archive-mentions-map")||{},!Object.keys(d).every((function(e){return d[D.resolveId(Number(e))]===n[D.resolveId(Number(e))]}))){e.next=6;break}return e.abrupt("return",{type:"Noop"});case 6:return r.set("archive-mentions-map",N(N({},n),d)),e.abrupt("return",{type:"UserUndoHideFolder",kind:"archive"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}return[l,n]}var G=function(e,t,r){switch(t.type){case"InitialData":return[function(){var e=(0,a.default)(s().mark((function e(t){var r,n,o,u,a,i,c,l,p,d,f,D;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.engine,o=t.api,u=t.storage,e.next=3,o.fetch("messages.getLongPollServer",{need_pts:1,lp_version:n.version},{retries:1/0});case 3:if((a=e.sent).pts){e.next=6;break}throw new Error("Отсутствует pts");case 6:return n.connect(N(N({},a),{},{pts:a.pts})),e.next=9,o.fetchMany({"messages.getConversations":{count:m.CONVOS_PER_PAGE},"users.get":{},"account.getCounters":{filter:"all"},"account.getInfo":{fields:["messages_recommendation_list_hidden","show_only_not_muted_messages","messages_multiline_input","messages_auto_unarchive","messages_transcript_auto_show"].join(",")},"account.getHelpHints":{}},{retries:1/0});case 9:if(i=e.sent,c=i["users.get"],l=i["messages.getConversations"],p=i["account.getCounters"],d=i["account.getInfo"],f=i["account.getHelpHints"],a.pts){e.next=17;break}throw new Error("Отсутствует pts");case 17:if(n.connect(N(N({},a),{},{pts:a.pts})),D=c[0]){e.next=21;break}throw new Error("Не удалось получить текущего пользователя");case 21:return u.identify(D.id),e.abrupt("return",{type:"InitialData_RequestCompleted",responseViewer:D,responseConvos:l,unreadCount:{messages:p.messages||0,archive:p.messages_archive_unread||0,archiveMentions:p.messages_archive_mentions_count||0,archiveTotal:p.messages_archive||0,messageRequest:p.message_requests||0,businessNotify:p.business_notify||0,businessNotifyTotal:p.business_notify_all||0,messageRequests:p.message_requests||0},pts:a.pts,hiddenPinnedMessages:u.get("hidden-pinned-messages"),archiveManuallyHidden:!!u.get("archive-manually-hidden"),userSettings:{ctrSubmit:Boolean(d.messages_multiline_input),soundNotifications:null===(r=u.get("settings-sound-notifications-on"))||void 0===r||r,showRecommendations:!Boolean(d.messages_recommendation_list_hidden),countOnlyNotMuted:Boolean(d.show_only_not_muted_messages),autoUnarchive:Boolean(d.messages_auto_unarchive),transcriptAutoShow:Boolean(d.messages_transcript_auto_show)},helpHints:H(f)});case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()];case"InitialData_RequestCompleted":e.pts=t.pts,e.hiddenPinnedMessages=new Map(Object.entries(t.hiddenPinnedMessages||{}).map((function(e){var t=(0,u.default)(e,2),r=t[0],n=t[1];return[D.resolveId(parseInt(r)),y.resolveCmid(n)]})));var n=(0,l.insertConvos)(r,e,t.responseConvos.items);e.folders.archive.isHidden=!!t.archiveManuallyHidden,d.push(e.folders,"all",n,t.responseConvos.count),d.updateCounters(e.folders,{unread:t.unreadCount.messages,archive:t.unreadCount.archive,archiveMentions:t.unreadCount.archiveMentions,archiveTotal:t.unreadCount.archiveTotal,messageRequests:t.unreadCount.messageRequest}),(0,l.insertPeers)(e,{apiUsers:(0,o.default)(t.responseConvos.profiles||[]),apiGroups:(0,o.default)(t.responseConvos.groups||[]),apiContacts:(0,o.default)(t.responseConvos.contacts||[])});var i=(0,v.fromApiUser)(t.responseViewer).user;return e.viewerId=i.id,e.peers.set(i.id,i),t.userSettings&&(e.userSettings=t.userSettings),e.helpHints=t.helpHints,[function(){var e=(0,a.default)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.engine,e.next=3,r.poll();case 3:return e.t0=e.sent,e.t1={kind:"FromEngine",next:e.t0},e.abrupt("return",{type:"EngineBatchReceived",variant:e.t1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=(0,a.default)(s().mark((function e(t){var r,n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,n=t.queue,e.next=3,r.fetch("queue.subscribe",{queue_ids:"onlfriends_".concat(i.id)},{retries:20});case 3:return o=e.sent,n.connect(N({user_id:i.id},o)),e.next=7,n.poll();case 7:return e.t0=e.sent,e.abrupt("return",{type:"QueueBatchReceived",next:e.t0});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()];default:return[]}};function H(e){if(0===e.count)return null;var t=e.items.reduce((function(e,t){var r=t.id;if("im:transcript_autoshow_setting"===r)e[r]={id:r};else;return e}),{});return 0===Object.keys(t).length?null:t}},207388:(e,t,r)=>{"use strict";r.d(t,{initConfig:()=>o});var n=r(818172);function o(){(0,n.enableMapSet)(),(0,n.setAutoFreeze)(!1);var e=r(890330),t=r(859005);e.shim(),t.shim()}},679324:(e,t,r)=>{"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{default:()=>n})},408156:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(897433),o=r(347810);function u(e,t,r){return u=(0,o.default)()?Reflect.construct:function(e,t,r){var o=[null];o.push.apply(o,t);var u=new(Function.bind.apply(e,o));return r&&(0,n.default)(u,r.prototype),u},u.apply(null,arguments)}},81944:(e,t,r)=>{"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{default:()=>n})},92993:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(897433);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.default)(e,t)}},332762:(e,t,r)=>{"use strict";function n(e){return-1!==Function.toString.call(e).indexOf("[native code]")}r.d(t,{default:()=>n})},347810:(e,t,r)=>{"use strict";function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}r.d(t,{default:()=>n})},904604:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(231989),o=r(679324);function u(e,t){if(t&&("object"===(0,n.default)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.default)(e)}},897433:(e,t,r)=>{"use strict";function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{default:()=>n})},231989:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{default:()=>n})},186865:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(81944),o=r(897433),u=r(332762),a=r(408156);function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||!(0,u.default)(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return(0,a.default)(e,arguments,(0,n.default)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,o.default)(r,e)},i(e)}},816405:(e,t,r)=>{"use strict";r.d(t,{API_VERSION:()=>n});const n="5.178"},818229:(e,t,r)=>{"use strict";function n(e){var t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function o(e){return n(new Date(e.getTime()+864e5))}function u(e){return n(new Date(e.getTime()-864e5))}r.d(t,{isToday:()=>n,isTomorrow:()=>u,isYesterday:()=>o})},474235:(e,t,r)=>{"use strict";r.d(t,{initLang:()=>o,langNumeric:()=>a,langSex:()=>u,langWordNumeric:()=>i});var n;r(818229);function o(e){e.source,n=e.config}function u(e,t){if(!Array.isArray(t))return t;var r=n(),o=t[1];return r?(r.sexRules.some((function(r){return"*"===r[0]||e==r[0]&&t[r[1]]?(o=t[r[1]],!0):void 0})),o):o}function a(e,t,r){var o,u=n();if(!t||!u)return e;Array.isArray(t)?(o=t[1],e!==Math.floor(e)?o=t[u.numRules.float]:u.numRules.int.some((function(r){if("*"===r[0])return o=t[r[2]],!0;var n=r[0]?e%r[0]:e;return Array.isArray(r[1])&&-1!==r[1].indexOf(n)?(o=t[r[2]],!0):void 0}))):o=t;var a=e+"";if(r){for(var i=e.toString().split("."),s=[],c=i[0].length-3;c>-3;c-=3)s.unshift(i[0].slice(c>0?c:0,c+3));i[0]=s.join(u.numDel),a=i.join(u.numDec)}return o=(o||"%s").replace("%s",a)}function i(e,t,r){return Array.isArray(t)&&e<t.length?t[e]:a(e,r)}},29057:e=>{"use strict";e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]/g}},606972:(e,t,r)=>{"use strict";r.d(t,{createBrowserHistory:()=>s});var n,o=r(392482);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));var u=function(e){return e};var a="beforeunload",i="popstate";function s(e){void 0===e&&(e={});var t=e.window,r=void 0===t?document.defaultView:t,s=r.history;function D(){var e=r.location,t=e.pathname,n=e.search,o=e.hash,a=s.state||{};return[a.idx,u({pathname:t,search:n,hash:o,state:a.usr||null,key:a.key||"default"})]}var y=null;r.addEventListener(i,(function(){if(y)b.call(y),y=null;else{var e=n.Pop,t=D(),r=t[0],o=t[1];if(b.length){if(null!=r){var u=m-r;u&&(y={action:e,location:o,retry:function(){S(-1*u)}},S(u))}}else A(e)}}));var h=n.Pop,v=D(),m=v[0],g=v[1],C=l(),b=l();function F(e){return"string"==typeof e?e:d(e)}function E(e,t){return void 0===t&&(t=null),u((0,o.default)({pathname:g.pathname,hash:"",search:""},"string"==typeof e?f(e):e,{state:t,key:p()}))}function w(e,t){return[{usr:e.state,key:e.key,idx:t},F(e)]}function _(e,t,r){return!b.length||(b.call({action:e,location:t,retry:r}),!1)}function A(e){h=e;var t=D();m=t[0],g=t[1],C.call({action:h,location:g})}function S(e){s.go(e)}null==m&&(m=0,s.replaceState((0,o.default)({},s.state,{idx:m}),""));var I={get action(){return h},get location(){return g},createHref:F,push:function e(t,o){var u=n.Push,a=E(t,o);if(_(u,a,(function(){e(t,o)}))){var i=w(a,m+1),c=i[0],l=i[1];try{s.pushState(c,"",l)}catch(e){r.location.assign(l)}A(u)}},replace:function e(t,r){var o=n.Replace,u=E(t,r);if(_(o,u,(function(){e(t,r)}))){var a=w(u,m),i=a[0],c=a[1];s.replaceState(i,"",c),A(o)}},go:S,back:function(){S(-1)},forward:function(){S(1)},listen:function(e){return C.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&r.addEventListener(a,c),function(){t(),b.length||r.removeEventListener(a,c)}}};return I}function c(e){e.preventDefault(),e.returnValue=""}function l(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function p(){return Math.random().toString(36).substr(2,8)}function d(e){var t=e.pathname,r=void 0===t?"/":t,n=e.search,o=void 0===n?"":n,u=e.hash,a=void 0===u?"":u;return o&&"?"!==o&&(r+="?"===o.charAt(0)?o:"?"+o),a&&"#"!==a&&(r+="#"===a.charAt(0)?a:"#"+a),r}function f(e){var t={};if(e){var r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}},392482:(e,t,r)=>{"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{default:()=>n})},608994:(e,t,r)=>{"use strict";r.d(t,{nanoid:()=>n});let n=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")},204743:(e,t,r)=>{"use strict";const n=r(714552),o=r(444020),u=r(480500),a=r(92806),i=Symbol("encodeFragmentIdentifier");function s(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function l(e,t){return t.decode?o(e):e}function p(e){return Array.isArray(e)?e.sort():"object"==typeof e?p(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function D(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function y(e,t){s((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"colon-list-separator":return(e,r,n)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const o="string"==typeof r&&r.includes(e.arrayFormatSeparator),u="string"==typeof r&&!o&&l(r,e).includes(e.arrayFormatSeparator);r=u?l(r,e):r;const a=o||u?r.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===r?r:l(r,e);n[t]=a};case"bracket-separator":return(t,r,n)=>{const o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!o)return void(n[t]=r?l(r,e):r);const u=null===r?[]:r.split(e.arrayFormatSeparator).map((t=>l(t,e)));void 0!==n[t]?n[t]=[].concat(n[t],u):n[t]=u};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const o of e.split("&")){if(""===o)continue;let[e,a]=u(t.decode?o.replace(/\+/g," "):o,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:l(a,t),r(l(e,t),a,n)}for(const e of Object.keys(n)){const r=n[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=D(r[e],t);else n[e]=D(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=p(r):e[t]=r,e}),Object.create(null))}t.extract=f,t.parse=y,t.stringify=(e,t)=>{if(!e)return"";s((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const o=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),"[",o,"]"].join("")]:[...r,[c(t,e),"[",c(o,e),"]=",c(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),"[]"].join("")]:[...r,[c(t,e),"[]=",c(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),":list="].join("")]:[...r,[c(t,e),":list=",c(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:(o=null===o?"":o,0===n.length?[[c(r,e),t,c(o,e)].join("")]:[[n,c(o,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,c(t,e)]:[...r,[c(t,e),"=",c(n,e)].join("")]}}(t),o={};for(const t of Object.keys(e))r(t)||(o[t]=e[t]);const u=Object.keys(o);return!1!==t.sort&&u.sort(t.sort),u.map((r=>{const o=e[r];return void 0===o?"":null===o?c(r,t):Array.isArray(o)?0===o.length&&"bracket-separator"===t.arrayFormat?c(r,t)+"[]":o.reduce(n(r),[]).join("&"):c(r,t)+"="+c(o,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,n]=u(e,"#");return Object.assign({url:r.split("?")[0]||"",query:y(f(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:l(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[i]:!0},r);const n=d(e.url).split("?")[0]||"",o=t.extract(e.url),u=t.parse(o,{sort:!1}),a=Object.assign(u,e.query);let s=t.stringify(a,r);s&&(s=`?${s}`);let l=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(l=`#${r[i]?c(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${n}${s}${l}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[i]:!1},n);const{url:o,query:u,fragmentIdentifier:s}=t.parseUrl(e,n);return t.stringifyUrl({url:o,query:a(u,r),fragmentIdentifier:s},n)},t.exclude=(e,r,n)=>{const o=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,o,n)}},714552:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},480500:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},487496:(e,t,r)=>{"use strict";var n=r(631585),o=r(919030),u=r(209497),a=r(921924)("String.prototype.slice");e.exports=function(e){var t,r=u(this),i=o(r),s=n(i.length);arguments.length>1&&(t=arguments[1]);var c=void 0===t?"":o(t);""===c&&(c=" ");var l=n(e);if(l<=s)return i;for(var p=l-s;c.length<p;){var d=c.length,f=p-d;c+=d>f?a(c,0,f):c}var D=c.length>p?a(c,0,p):c;return D+i}},859005:(e,t,r)=>{"use strict";var n=r(404289),o=r(209497),u=r(155559),a=r(487496),i=r(433842),s=r(714563),c=u.apply(i()),l=function(e,t){o(e);var r=arguments.length>2?[t,arguments[2]]:[t];return c(e,r)};n(l,{getPolyfill:i,implementation:a,shim:s}),e.exports=l},209497:(e,t,r)=>{"use strict";e.exports=r(351078)},942632:(e,t,r)=>{"use strict";var n=r(759771),o=r(264924),u=r(996948),a=r(109657),i=r(577372),s=r(646459);e.exports=function(e){var t=u(e);return a(t)||0===t?0:i(t)?s(t)*o(n(t)):t}},631585:(e,t,r)=>{"use strict";var n=r(693470),o=r(942632);e.exports=function(e){var t=o(e);return t<=0?0:t>n?n:t}},996948:(e,t,r)=>{"use strict";var n=r(340210),o=n("%TypeError%"),u=n("%Number%"),a=n("%RegExp%"),i=n("%parseInt%"),s=r(921924),c=r(554544),l=r(994478),p=s("String.prototype.slice"),d=c(/^0b[01]+$/i),f=c(/^0o[0-7]+$/i),D=c(/^[-+]0x[0-9a-f]+$/i),y=c(new a("["+["","​","￾"].join("")+"]","g")),h=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),v=new RegExp("(^["+h+"]+)|(["+h+"]+$)","g"),m=s("String.prototype.replace"),g=r(802778);e.exports=function e(t){var r=l(t)?t:g(t,u);if("symbol"==typeof r)throw new o("Cannot convert a Symbol value to a number");if("bigint"==typeof r)throw new o("Conversion from 'BigInt' to 'number' is not allowed.");if("string"==typeof r){if(d(r))return e(i(p(r,2),2));if(f(r))return e(i(p(r,2),8));if(y(r)||D(r))return NaN;var n=function(e){return m(e,v,"")}(r);if(n!==r)return e(n)}return u(r)}},802778:(e,t,r)=>{"use strict";var n=r(41503);e.exports=function(e){return arguments.length>1?n(e,arguments[1]):n(e)}},919030:(e,t,r)=>{"use strict";var n=r(340210),o=n("%String%"),u=n("%TypeError%");e.exports=function(e){if("symbol"==typeof e)throw new u("Cannot convert a Symbol value to a string");return o(e)}},759771:(e,t,r)=>{"use strict";var n=r(340210)("%Math.abs%");e.exports=function(e){return n(e)}},264924:e=>{"use strict";var t=Math.floor;e.exports=function(e){return t(e)}},351078:(e,t,r)=>{"use strict";var n=r(340210)("%TypeError%");e.exports=function(e,t){if(null==e)throw new n(t||"Cannot call method on "+e);return e}},577372:e=>{"use strict";var t=Number.isNaN||function(e){return e!=e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!t(e)&&e!==1/0&&e!==-1/0}},109657:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},994478:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},693470:(e,t,r)=>{"use strict";var n=r(340210),o=n("%Math%"),u=n("%Number%");e.exports=u.MAX_SAFE_INTEGER||o.pow(2,53)-1},554544:(e,t,r)=>{"use strict";var n=r(340210)("RegExp.prototype.test"),o=r(155559);e.exports=function(e){return o(n,e)}},646459:e=>{"use strict";e.exports=function(e){return e>=0?1:-1}},433842:(e,t,r)=>{"use strict";var n=r(487496);e.exports=function(){return"function"==typeof String.prototype.padStart?String.prototype.padStart:n}},714563:(e,t,r)=>{"use strict";var n=r(433842),o=r(404289);e.exports=function(){var e=n();return o(String.prototype,{padStart:e},{padStart:function(){return String.prototype.padStart!==e}}),e}},948399:()=>{}}]);try{stManager.done("dist/3bad6e117063d3681bf4f60574b483cc.e0ec618b3afcf0d62048.js")}catch(e){}